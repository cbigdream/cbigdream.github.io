{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"themes/Annie/source/css/Annie.styl","path":"css/Annie.styl","modified":0,"renderable":1},{"_id":"themes/Annie/source/css/comment.styl","path":"css/comment.styl","modified":0,"renderable":1},{"_id":"themes/Annie/source/js/leancloud.js","path":"js/leancloud.js","modified":0,"renderable":1},{"_id":"themes/Annie/source/js/main.js","path":"js/main.js","modified":0,"renderable":1},{"_id":"themes/Annie/source/js/resizediv.js","path":"js/resizediv.js","modified":0,"renderable":1},{"_id":"themes/Annie/source/img/logo.png","path":"img/logo.png","modified":0,"renderable":1},{"_id":"themes/Annie/source/img/pure-bg.png","path":"img/pure-bg.png","modified":0,"renderable":1},{"_id":"themes/Annie/source/img/placeholder.jpg","path":"img/placeholder.jpg","modified":0,"renderable":1},{"_id":"themes/Annie/source/js/jquery.min.js","path":"js/jquery.min.js","modified":0,"renderable":1},{"_id":"themes/Annie/source/plugin/clipboard/clipboard.js","path":"plugin/clipboard/clipboard.js","modified":0,"renderable":1},{"_id":"themes/Annie/source/img/quote/danger.svg","path":"img/quote/danger.svg","modified":0,"renderable":1},{"_id":"themes/Annie/source/img/quote/info.svg","path":"img/quote/info.svg","modified":0,"renderable":1},{"_id":"themes/Annie/source/img/quote/success.svg","path":"img/quote/success.svg","modified":0,"renderable":1},{"_id":"themes/Annie/source/img/quote/quote-left.svg","path":"img/quote/quote-left.svg","modified":0,"renderable":1},{"_id":"themes/Annie/source/img/quote/warning.svg","path":"img/quote/warning.svg","modified":0,"renderable":1},{"_id":"themes/Annie/source/plugin/chinese/chinese.js","path":"plugin/chinese/chinese.js","modified":0,"renderable":1},{"_id":"themes/Annie/source/plugin/imgResize/jquery.resizeimagetoparent.min.js","path":"plugin/imgResize/jquery.resizeimagetoparent.min.js","modified":0,"renderable":1},{"_id":"themes/Annie/source/plugin/fancybox/jquery.fancybox.css","path":"plugin/fancybox/jquery.fancybox.css","modified":0,"renderable":1},{"_id":"themes/Annie/source/plugin/imgLazyLoader/yall.min.js","path":"plugin/imgLazyLoader/yall.min.js","modified":0,"renderable":1},{"_id":"themes/Annie/source/plugin/gallerypage/natural-gallery.full.css","path":"plugin/gallerypage/natural-gallery.full.css","modified":0,"renderable":1},{"_id":"themes/Annie/source/plugin/gallerypage/natural.css","path":"plugin/gallerypage/natural.css","modified":0,"renderable":1},{"_id":"themes/Annie/source/plugin/love/love.js","path":"plugin/love/love.js","modified":0,"renderable":1},{"_id":"themes/Annie/source/plugin/search/search.js","path":"plugin/search/search.js","modified":0,"renderable":1},{"_id":"themes/Annie/source/plugin/search/ziploader.js","path":"plugin/search/ziploader.js","modified":0,"renderable":1},{"_id":"themes/Annie/source/plugin/toc/katelog.min.js","path":"plugin/toc/katelog.min.js","modified":0,"renderable":1},{"_id":"themes/Annie/source/plugin/vibrant/vibrant.js","path":"plugin/vibrant/vibrant.js","modified":0,"renderable":1},{"_id":"themes/Annie/source/plugin/comment/valine.min.js","path":"plugin/comment/valine.min.js","modified":0,"renderable":1},{"_id":"themes/Annie/source/plugin/gallerypage/data.json","path":"plugin/gallerypage/data.json","modified":0,"renderable":1},{"_id":"themes/Annie/source/plugin/gallerypage/natural-gallery.full.js","path":"plugin/gallerypage/natural-gallery.full.js","modified":0,"renderable":1},{"_id":"themes/Annie/source/img/favicon.ico","path":"img/favicon.ico","modified":0,"renderable":1},{"_id":"themes/Annie/source/plugin/gallerypage/images/default-skin.png","path":"plugin/gallerypage/images/default-skin.png","modified":0,"renderable":1},{"_id":"themes/Annie/source/plugin/gallerypage/images/preloader.gif","path":"plugin/gallerypage/images/preloader.gif","modified":0,"renderable":1},{"_id":"themes/Annie/source/plugin/gallerypage/images/default-skin.svg","path":"plugin/gallerypage/images/default-skin.svg","modified":0,"renderable":1},{"_id":"themes/Annie/source/plugin/fancybox/jquery.fancybox.js","path":"plugin/fancybox/jquery.fancybox.js","modified":0,"renderable":1},{"_id":"themes/Annie/source/plugin/nicescroll/jquery.nicescroll.js","path":"plugin/nicescroll/jquery.nicescroll.js","modified":0,"renderable":1},{"_id":"themes/Annie/source/img/cart_cover.jpg","path":"img/cart_cover.jpg","modified":0,"renderable":1},{"_id":"themes/Annie/source/plugin/motto/motto.js","path":"plugin/motto/motto.js","modified":0,"renderable":1},{"_id":"themes/Annie/source/img/1.jpg","path":"img/1.jpg","modified":0,"renderable":1}],"Cache":[{"_id":"themes/Annie/.project","hash":"02413f0cc96f269b21a49578e457500415b9c416","modified":1558615117294},{"_id":"themes/Annie/LICENSE","hash":"f29e45d4c4a9b68c9d1344f7ba8744e3f179216f","modified":1558615117295},{"_id":"themes/Annie/README.md","hash":"e1da67672fc530f701d642ff9570cdb15d3e7bde","modified":1558615117295},{"_id":"themes/Annie/_config.yml","hash":"d48e004ebe0f5e05efbccfdc96043ee206581f90","modified":1558615306709},{"_id":"themes/Annie/languages/default.yml","hash":"9f44065ac64c0be93cfce451f326c987d23cbcbb","modified":1558615117297},{"_id":"themes/Annie/languages/en.yml","hash":"c31cd8a4c05e04cec26e1a7708db8b43d47ed59d","modified":1558615117298},{"_id":"themes/Annie/languages/zh-CN.yml","hash":"6e6dbada38bcaa1f4a3f3de2f14bb13a9a3d1764","modified":1558615117299},{"_id":"themes/Annie/languages/zh-TW.yml","hash":"8fac8adc3218b607aad588c93a17841252bea1c3","modified":1558615117299},{"_id":"source/_posts/Linux配置tomcat自动启动.md","hash":"33e5f540a4f5abc6ef672ebfb3557ccb0f7f2cea","modified":1558616213717},{"_id":"source/_posts/Tomcat启动时卡住.md","hash":"7257a2c2f5419fbffcb4f746be43d10ba811da38","modified":1558606816885},{"_id":"source/categories/index.md","hash":"f8a570abf0bacbf71025613d06462ea0da586f15","modified":1558538464471},{"_id":"source/_posts/VSCode插件提升hexo体验.md","hash":"9573ddbdb009a6087ca6598cd1f74da372e4d452","modified":1558616235589},{"_id":"source/_posts/vsftpd安装与配置.md","hash":"75aefbbbed7a2168e4d38349a81a816d5ba1c86a","modified":1558616250324},{"_id":"source/_posts/北洋三部曲.md","hash":"013dfd172cbe802b3d51e78e8db07bef57f064fb","modified":1558606798087},{"_id":"themes/Annie/scripts/colorquote.js","hash":"9e06c8d843fab43897a2d1e724c2790eb88a1f4e","modified":1558615117345},{"_id":"themes/Annie/layout/category.ejs","hash":"9b740fc33f6f028df60f0bc4312bf3ebd03aa8ea","modified":1558615117340},{"_id":"themes/Annie/layout/archive.ejs","hash":"a18842e3d719fe3ca9b977a6995f8facc75c8673","modified":1558615117339},{"_id":"themes/Annie/layout/gallery.ejs","hash":"7d712536830d0cee62ebc941321a9e36ad56a475","modified":1558615117341},{"_id":"themes/Annie/layout/index.ejs","hash":"2a9cb0e9fbdd7e608597d4efbb6083a3b9c26762","modified":1558615117341},{"_id":"themes/Annie/layout/layout.ejs","hash":"b6034cf86ab06eb7c99f9d52c5ef31ef972a0062","modified":1558615117342},{"_id":"themes/Annie/layout/page.ejs","hash":"7ea1bad6d26c79b7baccbf452ca8a52113be2716","modified":1558615117343},{"_id":"themes/Annie/layout/post.ejs","hash":"c1fe38aba639c318ba79eecab914c18c8272c818","modified":1558615117343},{"_id":"themes/Annie/layout/tag.ejs","hash":"45150a2365768b6b67880193c9264ad2bb4814db","modified":1558615117344},{"_id":"source/tags/index.md","hash":"b2af9491a24cca600fb19574c63bed926785c8ab","modified":1558538464472},{"_id":"themes/Annie/.github/ISSUE_TEMPLATE/feature_request.md","hash":"f7fc277213466be52fbd016749f5311c1052247a","modified":1558615117290},{"_id":"themes/Annie/.github/ISSUE_TEMPLATE/bug_report.md","hash":"e161744bf2909c9a1aaf7758c07777e78cb2b9ea","modified":1558615117290},{"_id":"themes/Annie/.github/ISSUE_TEMPLATE/general-issue.md","hash":"65bceba2410aee9466c2677c2600deca328a885c","modified":1558615117293},{"_id":"themes/Annie/.github/ISSUE_TEMPLATE/pull-request.md","hash":"cb590aff7033c8ee26287df26761c54b87134f9a","modified":1558615117293},{"_id":"source/_posts/北洋三部曲/02.jpg","hash":"1489bc7affeb87d396b1cb81ea96f1789de966b2","modified":1558538464458},{"_id":"source/_posts/北洋三部曲/01.jpg","hash":"522ffa9e82c2d1cb0f08b92a6dbca388555f6e9c","modified":1558538464457},{"_id":"source/_posts/北洋三部曲/03.jpg","hash":"2a71260753fa73c20eefc863b6db417ca87c86a1","modified":1558538464459},{"_id":"source/_posts/北洋三部曲/04.jpg","hash":"54f4761b83093212d43a57ba87a8feb11e42b4b7","modified":1558538464460},{"_id":"source/_posts/北洋三部曲/05.jpg","hash":"3e9920be5edee32d687f5508b4032118641dc1ad","modified":1558538464460},{"_id":"source/_posts/北洋三部曲/06.jpg","hash":"7ab6f2124b9fe7113a75d2f1895b7f0604dd61df","modified":1558538464461},{"_id":"source/_posts/北洋三部曲/07.jpg","hash":"a0c332c2e8422cfa0134611a3f604a9e29216569","modified":1558538464462},{"_id":"source/_posts/北洋三部曲/08.jpg","hash":"b027040c73fcf489e8c9d41d0a65e2c69bfa1db5","modified":1558538464463},{"_id":"source/_posts/北洋三部曲/09.jpg","hash":"ada1727c2e414e650ce838adc97efc3ccdcaa7aa","modified":1558538464464},{"_id":"source/_posts/北洋三部曲/11.jpg","hash":"846dafad0264795b9f3b8f13dc4f3599fcc4c598","modified":1558538464465},{"_id":"source/_posts/北洋三部曲/10.jpg","hash":"15aa8d35aa5b66dd4bbf165aefaa22c75fed62f0","modified":1558538464465},{"_id":"source/_posts/北洋三部曲/14.jpg","hash":"d8bb414bd1b79ac4369a475f9016c4be87f6c1fd","modified":1558538464468},{"_id":"source/_posts/北洋三部曲/13.jpg","hash":"62936f2851becf88f1935b45b45307c1e345ae01","modified":1558538464467},{"_id":"source/_posts/北洋三部曲/12.jpg","hash":"fc271680d9692dde00bf606ca8d8a4bb0ece36c1","modified":1558538464466},{"_id":"source/_posts/北洋三部曲/15.jpg","hash":"d26f55566593cb344bf8bb784bcfee822c70527c","modified":1558538464469},{"_id":"themes/Annie/source/css/Annie.styl","hash":"2e06d6afbfce60b130bf1654b6ce96f0344c1a26","modified":1558615117347},{"_id":"source/_posts/北洋三部曲/16.jpg","hash":"1aa1a42cc6db52a1feb498989addcd32a9b62d34","modified":1558538464470},{"_id":"themes/Annie/source/css/_archive.styl","hash":"2eeae81963eeb32a9906a448788e3e105608102b","modified":1558615117347},{"_id":"themes/Annie/source/css/_main.styl","hash":"b7741bae25dbd6c04060ac493c62fbe1fcb62088","modified":1558615117353},{"_id":"themes/Annie/source/css/_mobile.styl","hash":"f8b3635049436eb378c1a4bb06c65a69151e8ef3","modified":1558615117354},{"_id":"themes/Annie/source/css/_nav.styl","hash":"3f112d2d3a231a66e7c8e92232576d617d6305db","modified":1558615117354},{"_id":"themes/Annie/source/css/_page.styl","hash":"925878c8f79ce0c2361c4190e14834dabb496175","modified":1558615117355},{"_id":"themes/Annie/source/css/_post.styl","hash":"c60217bb93f9bc6dbb77d9eb8c5f0ca1dfa0b8a9","modified":1558615117356},{"_id":"themes/Annie/source/css/_search.styl","hash":"2921f0e0c118ca53b5ef40ffa57e3068778b0130","modified":1558615117356},{"_id":"themes/Annie/source/css/_toc.styl","hash":"298d93e608e08e9a2e7beca9335d1cdc3bbbdb3d","modified":1558615117357},{"_id":"themes/Annie/source/css/comment.styl","hash":"ba4bbf4dee6386aa176c934da55b3571df1b77bb","modified":1558615117358},{"_id":"themes/Annie/source/js/leancloud.js","hash":"010312461d695288ef418ce98c12d074a2cb5966","modified":1558615117375},{"_id":"themes/Annie/source/js/main.js","hash":"d958e9bd896c39f2c23eb464434e8df3887306d1","modified":1558615117375},{"_id":"themes/Annie/source/js/resizediv.js","hash":"997f421eab476ef47459efe87fede1e3f2e9b91c","modified":1558615117376},{"_id":"themes/Annie/source/img/logo.png","hash":"6753531813b7157625c4eca2531d08edc65f846b","modified":1558615117366},{"_id":"themes/Annie/source/img/pure-bg.png","hash":"874074999995e6981d7602a7d5a770043a10b932","modified":1558615117368},{"_id":"themes/Annie/source/img/placeholder.jpg","hash":"e94eb7ddf701c97d3d2abbeba5c42da0bbab5d8e","modified":1558615117367},{"_id":"themes/Annie/layout/_partial/archive.ejs","hash":"65b9304991de9e9fd0f84b393f10f09b127a0302","modified":1558615117301},{"_id":"themes/Annie/layout/_partial/footer-after.ejs","hash":"8d51bac27e5d10e143645bc08d902ec0b05541aa","modified":1558615117303},{"_id":"themes/Annie/layout/_partial/footer.ejs","hash":"b43637901338fd09897cd2e7f09e290ec5274ae8","modified":1558615117304},{"_id":"themes/Annie/layout/_partial/footer-social.ejs","hash":"5dc74d43e9b6414a45161af1c07990bf1d293c48","modified":1558615117304},{"_id":"themes/Annie/layout/_partial/header.ejs","hash":"00eecd5c380c7b04736318cc49d7ce4f898ea94a","modified":1558615117306},{"_id":"themes/Annie/layout/_partial/head.ejs","hash":"7694b13e4bd5e12f2b5ef0c8a27b279bc2104a19","modified":1558615117305},{"_id":"themes/Annie/layout/_partial/index-cart.ejs","hash":"a6ab817ec12ff746bece8c2ac569818a230177bb","modified":1558615117307},{"_id":"themes/Annie/layout/_partial/nav.ejs","hash":"921474d29fa305fb6c36dc2e3d23f896442b3ce9","modified":1558615117308},{"_id":"themes/Annie/layout/_partial/index-pure.ejs","hash":"98c7d81caf3ae947ad93ffe4dadfcd7d31f29c10","modified":1558615117307},{"_id":"themes/Annie/layout/_partial/page.ejs","hash":"441322eeaada81ec2989ea1df6cb6164b7bd0cb9","modified":1558615117309},{"_id":"themes/Annie/layout/_partial/page-header.ejs","hash":"ccef0722794cb663a3a24bf2155df2c942366b3e","modified":1558615117309},{"_id":"themes/Annie/layout/_partial/paginator.ejs","hash":"99ee617ea741cf2dfca9a809c67e565fc789f31e","modified":1558615117310},{"_id":"themes/Annie/layout/_partial/post-like.ejs","hash":"bb8ccd73391fe1159bdc49e1a26ce920f1f132b0","modified":1558615117329},{"_id":"themes/Annie/layout/_partial/post-number.ejs","hash":"ad3f1d9a8b84d0ae96eb3e9aa98c062f3b1e0cda","modified":1558615117330},{"_id":"themes/Annie/layout/_partial/post-relate.ejs","hash":"bac3abfcb4a96a20bff1e8884d9c0d427406961a","modified":1558615117331},{"_id":"themes/Annie/layout/_partial/post.ejs","hash":"496b66e460e83277b965686639c254d508201fd5","modified":1558615117331},{"_id":"themes/Annie/source/js/jquery.min.js","hash":"dacc1f76630a9708add066819b1aabf8dce01056","modified":1558615117374},{"_id":"themes/Annie/source/css/_highlight/_code-copy.styl","hash":"bba709197711f0c2d30f6b0bbaaa0613a3ede720","modified":1558615117349},{"_id":"themes/Annie/source/css/_highlight/_diff.styl","hash":"15578f4883a07c4753dd6be1258f1a553619135a","modified":1558615117349},{"_id":"themes/Annie/source/css/_highlight/_theme.styl","hash":"b9874d938ddb4165065f9aaf3a3b035f088022a8","modified":1558615117350},{"_id":"themes/Annie/source/css/_highlight/_variables.styl","hash":"f397024eb66bb042624e0df43a5b406631501277","modified":1558615117351},{"_id":"themes/Annie/source/css/_highlight/highlight.styl","hash":"e3ae63b5ebc04d1b77191535eb6147c30fc7d89a","modified":1558615117352},{"_id":"themes/Annie/source/plugin/clipboard/clipboard.js","hash":"a6807ac344ef1c099eb932801828398870ddee30","modified":1558615117379},{"_id":"themes/Annie/source/img/quote/danger.svg","hash":"213125a083bcef89806b4285190e050eef2660f2","modified":1558615117369},{"_id":"themes/Annie/source/img/quote/info.svg","hash":"60613abd8f8522c6cebdbb4bf7bf3fcc482245bd","modified":1558615117370},{"_id":"themes/Annie/source/img/quote/success.svg","hash":"16e9a53d7c49621be8e3f1a28b11bcf5e751105e","modified":1558615117371},{"_id":"themes/Annie/source/img/quote/quote-left.svg","hash":"d2561fa8d13e63ff196b71232a5968415ec6e372","modified":1558615117371},{"_id":"themes/Annie/source/img/quote/warning.svg","hash":"e4005d2eabfbd3bdd291236f56a4d385e3b337b2","modified":1558615117372},{"_id":"themes/Annie/source/plugin/chinese/chinese.js","hash":"0afd302a9db7de46a0af3f076f5ea5e639e64393","modified":1558615117378},{"_id":"themes/Annie/source/plugin/imgResize/jquery.resizeimagetoparent.min.js","hash":"4f2738f0de29a2b94869250be17a9826ff5dd7c9","modified":1558615117395},{"_id":"themes/Annie/source/plugin/fancybox/jquery.fancybox.css","hash":"cbb951aeb94d1d070d011b2610490b59fbf3c463","modified":1558615117382},{"_id":"themes/Annie/source/plugin/imgLazyLoader/yall.min.js","hash":"46a606cadfb1dbdf3c6172a0797c5f30d3968d1e","modified":1558615117393},{"_id":"themes/Annie/source/plugin/gallerypage/natural-gallery.full.css","hash":"77aef23f3414e3da9adfaa005458c10c90afb7db","modified":1558615117390},{"_id":"themes/Annie/source/plugin/gallerypage/natural.css","hash":"a65275daafd7534f48e9dac1cba5de73f6b88822","modified":1558615117392},{"_id":"themes/Annie/source/plugin/love/love.js","hash":"9e8e79d69ad8338761272f86fe5cad0ad5e503cc","modified":1558615117396},{"_id":"themes/Annie/source/plugin/search/search.js","hash":"b9715755edb3a26fd33662f547e53a327df75f60","modified":1558615117402},{"_id":"themes/Annie/source/plugin/search/ziploader.js","hash":"f5de8fdfdbd61417e9d06d09fd87ce79f4bcc0aa","modified":1558615117403},{"_id":"themes/Annie/source/plugin/toc/katelog.min.js","hash":"98a96608bb3e1e01638020f0c0e1ac04127c3933","modified":1558615117404},{"_id":"themes/Annie/source/plugin/vibrant/vibrant.js","hash":"2539ccf26f3f9750e456d4a9ee4ffbc8a35776d2","modified":1558615117405},{"_id":"themes/Annie/layout/_partial/custom/XXX.ejs","hash":"da87df37f41e32bc63f75f7dc3a5d1de70123c2e","modified":1558615117302},{"_id":"themes/Annie/layout/_partial/plugin/comment.ejs","hash":"c70162468294a9e00c5cc67863401eff2ac50e9e","modified":1558615117313},{"_id":"themes/Annie/layout/_partial/plugin/clipboard.ejs","hash":"4daa2f62fa4d845fe01586f51a42f84ae116cb0a","modified":1558615117311},{"_id":"themes/Annie/layout/_partial/plugin/mathjax.ejs","hash":"5360830f3ef51394db8999fa99c19649916f0569","modified":1558615117317},{"_id":"themes/Annie/layout/_partial/plugin/motto.ejs","hash":"f61b3e81a6a93d7a31977e9caa0754e3439e3aaf","modified":1558615117317},{"_id":"themes/Annie/layout/_partial/plugin/search.ejs","hash":"cea6f9a64781d7b44877587394107b85e7c16ef2","modified":1558615117318},{"_id":"themes/Annie/layout/_partial/plugin/statistics.ejs","hash":"3634879d692e117352dd0cf6f7cf6d2687fc03f0","modified":1558615117322},{"_id":"themes/Annie/layout/_partial/plugin/toc.ejs","hash":"d550b23641f358b292f0571730d50330b8559a55","modified":1558615117329},{"_id":"themes/Annie/layout/_partial/plugin/share.ejs","hash":"780e9c0cc146fec49c4e43930a94d3d4829f5301","modified":1558615117319},{"_id":"themes/Annie/layout/_partial/post/date.ejs","hash":"8bf4c6177c66713bd707967c12087e2b24314046","modified":1558615117333},{"_id":"themes/Annie/layout/_partial/post/gallery.ejs","hash":"340e82dc345cc455dbb7c1eb0c4edbe7c5fd9ee8","modified":1558615117334},{"_id":"themes/Annie/layout/_partial/post/category.ejs","hash":"e77636e2e27059b2405861a927387ccb4737683a","modified":1558615117333},{"_id":"themes/Annie/layout/_partial/post/navigation.ejs","hash":"776fc5c67445768632451dbc08b1f0ce09db7814","modified":1558615117335},{"_id":"themes/Annie/layout/_partial/post/tag.ejs","hash":"4e27d7aeb3996a79064148737606b5f1afb6f004","modified":1558615117336},{"_id":"themes/Annie/layout/_partial/post/title.ejs","hash":"65994e06024045d474402e3a0a22f869dd41476d","modified":1558615117336},{"_id":"themes/Annie/layout/_partial/widget/totop.ejs","hash":"dcc8ccf91b4ae8124e1bbc7e1b7dbc6271989f94","modified":1558615117338},{"_id":"themes/Annie/layout/_partial/widget/time-js.ejs","hash":"e7505477d171f8a33022022aeabff44559e8fe21","modified":1558615117338},{"_id":"themes/Annie/source/plugin/comment/valine.min.js","hash":"c095b96b53c9d4aaa3a0eca6d0223cf033c0af8a","modified":1558615117381},{"_id":"themes/Annie/source/plugin/gallerypage/data.json","hash":"fc42a58d5b23572ef1ceb77618fa03355a411d62","modified":1558615117386},{"_id":"themes/Annie/source/plugin/gallerypage/natural-gallery.full.js","hash":"98a795f711ea0267a50c60b266ff0e72986f7d0a","modified":1558615117391},{"_id":"themes/Annie/source/img/favicon.ico","hash":"92da6723b6526aa98c23501e6086c5948a13083c","modified":1558615117365},{"_id":"themes/Annie/source/plugin/gallerypage/images/default-skin.png","hash":"f6c7bd39c5ceda639276e64447f6007ad28ac0dd","modified":1558615117387},{"_id":"themes/Annie/source/plugin/gallerypage/images/preloader.gif","hash":"6342367c93c82da1b9c620e97c84a389cc43d96d","modified":1558615117389},{"_id":"themes/Annie/source/plugin/gallerypage/images/default-skin.svg","hash":"bf61aaab4ee361ac7537b68abee8780ac6fd22f3","modified":1558615117388},{"_id":"themes/Annie/layout/_partial/plugin/clipboard/code-copy.ejs","hash":"d1ea1b31fb61622302f3b87a3081daed3d40d6af","modified":1558615117312},{"_id":"themes/Annie/layout/_partial/plugin/comment/gitalk.ejs","hash":"8d00590cc8e940f6cd699d39fea6ff3cf161b64a","modified":1558615117314},{"_id":"themes/Annie/layout/_partial/plugin/comment/livere.ejs","hash":"548b662d2f5fbc53018fe94dbca2c687be3faf10","modified":1558615117315},{"_id":"themes/Annie/layout/_partial/plugin/comment/valine.ejs","hash":"956b638975058cde705bd9419556f0cf982dd1ba","modified":1558615117316},{"_id":"themes/Annie/layout/_partial/plugin/share/addThis.ejs","hash":"ffa02cf82c9fa2b3beb834a4b6eccb15b058005f","modified":1558615117320},{"_id":"themes/Annie/layout/_partial/plugin/share/baidu-share.ejs","hash":"8967235f7fd8687160c067e866b63edb81f25131","modified":1558615117321},{"_id":"themes/Annie/layout/_partial/plugin/share/shareThis.ejs","hash":"2542d0e967fd45e64c8798f21fe28ba048500896","modified":1558615117322},{"_id":"themes/Annie/layout/_partial/plugin/statistics/baidu-analytics.ejs","hash":"6622753f3f5cf2632b4993d3b0d13f75893ebdc5","modified":1558615117323},{"_id":"themes/Annie/layout/_partial/plugin/share/social-share.ejs","hash":"d988ed9d04db97719a8eb5c1b8b007e5f721070a","modified":1558615117322},{"_id":"themes/Annie/layout/_partial/plugin/statistics/busuanzi.ejs","hash":"c002a4dd377e0d22a58d644557f8614317ee4383","modified":1558615117324},{"_id":"themes/Annie/layout/_partial/plugin/statistics/google_analytics.ejs","hash":"0bd5e7fce93d57313dba455846e16c4ee206b211","modified":1558615117326},{"_id":"themes/Annie/layout/_partial/plugin/statistics/cnzz_analytics.ejs","hash":"957c9f527e849a548cd4b6d1f7851f1ddb1b647b","modified":1558615117325},{"_id":"themes/Annie/layout/_partial/plugin/statistics/leancloud.ejs","hash":"01ac6032db321185cce9045c03afeaa61cbe6ec3","modified":1558615117327},{"_id":"themes/Annie/layout/_partial/plugin/statistics/topN-post.ejs","hash":"b790af15db817a9098263c2f2ae4f45a472da11b","modified":1558615117328},{"_id":"themes/Annie/layout/_partial/plugin/statistics/tencent_analytics.ejs","hash":"c1641907456137267e98dcce7e8bc60cb9c14c11","modified":1558615117327},{"_id":"themes/Annie/source/plugin/fancybox/jquery.fancybox.js","hash":"cc3932fc552c8761990260ebf9a8f76ebfa19a2f","modified":1558615117384},{"_id":"themes/Annie/source/plugin/nicescroll/jquery.nicescroll.js","hash":"d6a0c3c1e0bba483e12e7996c0bd07fd438650cf","modified":1558615117400},{"_id":"themes/Annie/source/img/cart_cover.jpg","hash":"a1daf66cf98995234980c47a876c41dcc79a142e","modified":1558615117364},{"_id":"themes/Annie/source/plugin/motto/motto.js","hash":"30316c1e695d7da05b915e12cc34addd91511e15","modified":1558615117399},{"_id":"themes/Annie/source/img/1.jpg","hash":"6a4e95d51354d2977d1fda52300ef25d4046733b","modified":1558615117361},{"_id":"public/baidusitemap.xml","hash":"c19eacd5f2eefbcf8e5afb1b20f1324e270eb0c5","modified":1558615424063},{"_id":"public/atom.xml","hash":"239f01deaad40284536f64734549dacc7d6e4bd7","modified":1558615424064},{"_id":"public/searchVersion.txt","hash":"cb882b28ad2b5c97ef05b9355b6a37e1ec327289","modified":1558615424293},{"_id":"public/content.json","hash":"1439620f83f6f8e445c44d8772605d96ae0813c1","modified":1558615424293},{"_id":"public/sitemap.xml","hash":"171cf05ca1a34667fe2583ec50c83922bec1ab5d","modified":1558615424295},{"_id":"public/categories/index.html","hash":"4cc4f8387a0d71d2605d84d52837b8115d1ef620","modified":1558615424298},{"_id":"public/tags/index.html","hash":"15ac393961d14b7379e08deb68d9dbccdde0fb34","modified":1558615424298},{"_id":"public/archives/2018/index.html","hash":"c42f37c8882eaadda05a51b65f4d09a48a2607f0","modified":1558615424298},{"_id":"public/archives/2018/07/index.html","hash":"f06e2139efd9c845b81c080acdafd60df3ed1cb5","modified":1558615424299},{"_id":"public/archives/2019/index.html","hash":"4fa6d13d3b62d469a88efd604e122a7a05b48993","modified":1558615424299},{"_id":"public/archives/2019/05/index.html","hash":"4a0029c43d6763a1e975deea5fd6cd55f5e71ee3","modified":1558615424299},{"_id":"public/categories/技术/index.html","hash":"49db306f56590e711b891be5f7aa223b9c4b90e6","modified":1558615424299},{"_id":"public/categories/博客/index.html","hash":"54af3cae1b1aaacf44890a87b8363db78aed2468","modified":1558615424299},{"_id":"public/categories/电影/index.html","hash":"23f42f95e1cf0db52a7b8b372c2e20cb7dc76e3a","modified":1558615424299},{"_id":"public/tags/linux/index.html","hash":"a91b067e6c647cab676d0b98ff6c8fb9b4c5f86f","modified":1558615424299},{"_id":"public/tags/tomcat/index.html","hash":"c9fc4960d795034e128b88b1199d270b481e5ea0","modified":1558615424299},{"_id":"public/tags/hexo/index.html","hash":"fd9a9fcd03744a12a3bebb4fe3bee3951a95d3d5","modified":1558615424299},{"_id":"public/tags/姜文/index.html","hash":"a9b33ce91ebb86d934dc0a1c52f169161423e98a","modified":1558615424299},{"_id":"public/tags/vsftpd/index.html","hash":"d8cfab23bbd8e386c25d07b0c2ccbf1d01a876de","modified":1558615424299},{"_id":"public/2019/05/23/VSCode插件提升hexo体验/index.html","hash":"ccb153f6781d3670057e19032ebfd1088738840d","modified":1558615424299},{"_id":"public/2019/05/23/Tomcat启动时卡住/index.html","hash":"9c39bdd63c53d9433c2eb9c2b00b4c95a23cd7d2","modified":1558615424299},{"_id":"public/2019/05/22/Linux配置tomcat自动启动/index.html","hash":"c3ddd1ee25b7ea04177f0ada5f66953ccf53f3a5","modified":1558615424299},{"_id":"public/2018/07/22/北洋三部曲/index.html","hash":"d382ea768dfdf98ebc5a4e6e9adf2418b54989d8","modified":1558615424299},{"_id":"public/2019/05/22/vsftpd安装与配置/index.html","hash":"39482ba8f6e744ced5b32e038d8f690bd2bf651b","modified":1558615424299},{"_id":"public/archives/index.html","hash":"4c974881f03969f2cd196ba37b5f23349488c314","modified":1558615424299},{"_id":"public/index.html","hash":"26073d428b28406b6e772d146c6879349f1cb0e6","modified":1558615424299},{"_id":"public/img/pure-bg.png","hash":"874074999995e6981d7602a7d5a770043a10b932","modified":1558615424308},{"_id":"public/img/logo.png","hash":"6753531813b7157625c4eca2531d08edc65f846b","modified":1558615424308},{"_id":"public/img/quote/info.svg","hash":"60613abd8f8522c6cebdbb4bf7bf3fcc482245bd","modified":1558615424308},{"_id":"public/img/placeholder.jpg","hash":"e94eb7ddf701c97d3d2abbeba5c42da0bbab5d8e","modified":1558615424308},{"_id":"public/img/quote/success.svg","hash":"16e9a53d7c49621be8e3f1a28b11bcf5e751105e","modified":1558615424308},{"_id":"public/img/quote/danger.svg","hash":"213125a083bcef89806b4285190e050eef2660f2","modified":1558615424308},{"_id":"public/img/quote/quote-left.svg","hash":"d2561fa8d13e63ff196b71232a5968415ec6e372","modified":1558615424308},{"_id":"public/img/quote/warning.svg","hash":"e4005d2eabfbd3bdd291236f56a4d385e3b337b2","modified":1558615424308},{"_id":"public/plugin/gallerypage/images/default-skin.png","hash":"f6c7bd39c5ceda639276e64447f6007ad28ac0dd","modified":1558615424308},{"_id":"public/plugin/gallerypage/images/preloader.gif","hash":"6342367c93c82da1b9c620e97c84a389cc43d96d","modified":1558615424308},{"_id":"public/plugin/gallerypage/images/default-skin.svg","hash":"bf61aaab4ee361ac7537b68abee8780ac6fd22f3","modified":1558615424308},{"_id":"public/2018/07/22/北洋三部曲/01.jpg","hash":"522ffa9e82c2d1cb0f08b92a6dbca388555f6e9c","modified":1558615424308},{"_id":"public/2018/07/22/北洋三部曲/02.jpg","hash":"1489bc7affeb87d396b1cb81ea96f1789de966b2","modified":1558615424309},{"_id":"public/2018/07/22/北洋三部曲/03.jpg","hash":"2a71260753fa73c20eefc863b6db417ca87c86a1","modified":1558615424309},{"_id":"public/2018/07/22/北洋三部曲/04.jpg","hash":"54f4761b83093212d43a57ba87a8feb11e42b4b7","modified":1558615424309},{"_id":"public/2018/07/22/北洋三部曲/05.jpg","hash":"3e9920be5edee32d687f5508b4032118641dc1ad","modified":1558615424309},{"_id":"public/2018/07/22/北洋三部曲/07.jpg","hash":"a0c332c2e8422cfa0134611a3f604a9e29216569","modified":1558615424309},{"_id":"public/2018/07/22/北洋三部曲/06.jpg","hash":"7ab6f2124b9fe7113a75d2f1895b7f0604dd61df","modified":1558615424309},{"_id":"public/2018/07/22/北洋三部曲/09.jpg","hash":"ada1727c2e414e650ce838adc97efc3ccdcaa7aa","modified":1558615424309},{"_id":"public/2018/07/22/北洋三部曲/08.jpg","hash":"b027040c73fcf489e8c9d41d0a65e2c69bfa1db5","modified":1558615424309},{"_id":"public/2018/07/22/北洋三部曲/10.jpg","hash":"15aa8d35aa5b66dd4bbf165aefaa22c75fed62f0","modified":1558615424309},{"_id":"public/2018/07/22/北洋三部曲/11.jpg","hash":"846dafad0264795b9f3b8f13dc4f3599fcc4c598","modified":1558615424309},{"_id":"public/2018/07/22/北洋三部曲/12.jpg","hash":"fc271680d9692dde00bf606ca8d8a4bb0ece36c1","modified":1558615424309},{"_id":"public/2018/07/22/北洋三部曲/13.jpg","hash":"62936f2851becf88f1935b45b45307c1e345ae01","modified":1558615424309},{"_id":"public/2018/07/22/北洋三部曲/15.jpg","hash":"d26f55566593cb344bf8bb784bcfee822c70527c","modified":1558615424309},{"_id":"public/2018/07/22/北洋三部曲/14.jpg","hash":"d8bb414bd1b79ac4369a475f9016c4be87f6c1fd","modified":1558615424309},{"_id":"public/2018/07/22/北洋三部曲/16.jpg","hash":"1aa1a42cc6db52a1feb498989addcd32a9b62d34","modified":1558615424309},{"_id":"public/css/comment.css","hash":"0a6e4c76ca3f65ba44074590a88dcdfb9d3019f3","modified":1558615424723},{"_id":"public/js/resizediv.js","hash":"1b3e3eb33aee0de1f02384dbdbd3941716e0fda5","modified":1558615424723},{"_id":"public/plugin/imgResize/jquery.resizeimagetoparent.min.js","hash":"2a232d3bdf76bfedc1c51fa27b6a3ada658e156e","modified":1558615424724},{"_id":"public/plugin/imgLazyLoader/yall.min.js","hash":"59e3ca7c5cc98368156826ea857fa1a8dea6aaa4","modified":1558615424724},{"_id":"public/plugin/love/love.js","hash":"9e8e79d69ad8338761272f86fe5cad0ad5e503cc","modified":1558615424724},{"_id":"public/plugin/toc/katelog.min.js","hash":"7acaa9e4a1a3689b84382c1814b58b1168c57e2c","modified":1558615424724},{"_id":"public/plugin/gallerypage/natural.css","hash":"8014a4791f5789e55aa8921def9eb93b3f31d48d","modified":1558615424724},{"_id":"public/css/Annie.css","hash":"b7fc594dd64588b64f928c2745e0789ac06c9578","modified":1558615424724},{"_id":"public/js/leancloud.js","hash":"0380f86667c85b6c23eca0e1adaa27cd05930247","modified":1558615424734},{"_id":"public/plugin/chinese/chinese.js","hash":"986dfdf6f27852151e2225aaaa22d2302d5d24dc","modified":1558615424734},{"_id":"public/plugin/search/search.js","hash":"2004e1450c2d7e76a8d86f4d7ec69902f629eaf7","modified":1558615424735},{"_id":"public/js/main.js","hash":"1aeebe962d875798e8a546a9f5fecafea41e1dea","modified":1558615424738},{"_id":"public/plugin/fancybox/jquery.fancybox.css","hash":"7a81dceacd45c9249b1da50c3a51eb6aec68424c","modified":1558615424738},{"_id":"public/plugin/gallerypage/natural-gallery.full.css","hash":"d5c5ff93bf13e2d4ece69ccaa6cd72a2486daba0","modified":1558615424738},{"_id":"public/img/favicon.ico","hash":"92da6723b6526aa98c23501e6086c5948a13083c","modified":1558615424738},{"_id":"public/plugin/clipboard/clipboard.js","hash":"43d4af727a32a793d9146eb828ed114e3ca29cec","modified":1558615424749},{"_id":"public/plugin/search/ziploader.js","hash":"93c976bea5ae21811807cf27b4ca8c3c94640b04","modified":1558615424749},{"_id":"public/plugin/vibrant/vibrant.js","hash":"96bd870eb5e1e2803ae20135f56db90756b10d94","modified":1558615424749},{"_id":"public/plugin/comment/valine.min.js","hash":"0c698e2d51cdc0d2eb303c8c3a81ddd6d6cf667f","modified":1558615424770},{"_id":"public/img/cart_cover.jpg","hash":"a1daf66cf98995234980c47a876c41dcc79a142e","modified":1558615424788},{"_id":"public/plugin/gallerypage/data.json","hash":"a827712b50f4805533735999a50684999788986c","modified":1558615424796},{"_id":"public/js/jquery.min.js","hash":"5a9dcfbef655a2668e78baebeaa8dc6f41d8dabb","modified":1558615424806},{"_id":"public/img/1.jpg","hash":"6a4e95d51354d2977d1fda52300ef25d4046733b","modified":1558615424806},{"_id":"public/plugin/gallerypage/natural-gallery.full.js","hash":"5b3dfb0b5279055706c57484e14c8dac321be7e8","modified":1558615424813},{"_id":"public/plugin/nicescroll/jquery.nicescroll.js","hash":"25b8db3ad673a4661334b1cdeaf37ed881ffd17c","modified":1558615424815},{"_id":"public/plugin/fancybox/jquery.fancybox.js","hash":"c4461bc0cacd6a1d58885ca0f466ba1b7562c85d","modified":1558615424819},{"_id":"public/plugin/motto/motto.js","hash":"282eac08d66a6e14f1b170cf1dbea67e53fba436","modified":1558615424823}],"Category":[{"name":"技术","_id":"cjw0ndpnt00034su7g72jev37"},{"name":"博客","_id":"cjw0ndpnz00084su73zvrimm9"},{"name":"电影","_id":"cjw0ndpoa000l4su7let6lx2a"}],"Data":[],"Page":[{"date":"2018-07-22T05:45:56.000Z","type":"categories","_content":"","source":"categories/index.md","raw":"---\ndate: 2018-07-22 13:45:56\ntype: \"categories\"\n---\n","updated":"2019-05-22T15:21:04.471Z","path":"categories/index.html","title":"","comments":1,"layout":"page","_id":"cjw0ndpnq00014su7ydfmzd7p","content":"","site":{"data":{}},"excerpt":"","more":""},{"date":"2018-07-22T05:47:56.000Z","type":"tags","_content":"","source":"tags/index.md","raw":"---\ndate: 2018-07-22 13:47:56\ntype: \"tags\"\n---\n","updated":"2019-05-22T15:21:04.472Z","path":"tags/index.html","title":"","comments":1,"layout":"page","_id":"cjw0ndpon000q4su703s137k6","content":"","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"title":"Linux配置tomcat自动启动","date":"2019-05-22T13:15:00.000Z","_content":"将tomcat配置成linux service，跟随linux启动\n<!-- more --> \n## 1. 编辑tomcat/bin/catalina.sh\n在catalina.sh中添加java和tomcat环境变量\n```shell\nCATALINA_HOME=/usr/local/tomcat\nJAVA_HOME=/usr/lib/java/jdk1.7.0_79\n```\n根据实际情况配置环境变量，然后将catalina.sh复制到/etc/init.d/目录下\n```shell\ncp tomcat/bin/catalina.sh /etc/init.d/tomcat\n```\n## 2. 更新tomcat service，并启动：\n```shell\nupdate-rc.d tomcat defaults\nservice tomcat start\n```","source":"_posts/Linux配置tomcat自动启动.md","raw":"---\ntitle: Linux配置tomcat自动启动\ndate: 2019-05-22 21:15:00\ncategories: 技术\ntags: [linux,tomcat]\n---\n将tomcat配置成linux service，跟随linux启动\n<!-- more --> \n## 1. 编辑tomcat/bin/catalina.sh\n在catalina.sh中添加java和tomcat环境变量\n```shell\nCATALINA_HOME=/usr/local/tomcat\nJAVA_HOME=/usr/lib/java/jdk1.7.0_79\n```\n根据实际情况配置环境变量，然后将catalina.sh复制到/etc/init.d/目录下\n```shell\ncp tomcat/bin/catalina.sh /etc/init.d/tomcat\n```\n## 2. 更新tomcat service，并启动：\n```shell\nupdate-rc.d tomcat defaults\nservice tomcat start\n```","slug":"Linux配置tomcat自动启动","published":1,"updated":"2019-05-23T12:56:53.717Z","_id":"cjw0ndpnl00004su7617eo791","comments":1,"layout":"post","photos":[],"link":"","content":"<p>将tomcat配置成linux service，跟随linux启动</p>\n<a id=\"more\"></a> \n<h2 id=\"1-编辑tomcat-bin-catalina-sh\"><a href=\"#1-编辑tomcat-bin-catalina-sh\" class=\"headerlink\" title=\"1. 编辑tomcat/bin/catalina.sh\"></a>1. 编辑tomcat/bin/catalina.sh</h2><p>在catalina.sh中添加java和tomcat环境变量</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CATALINA_HOME=/usr/local/tomcat</span><br><span class=\"line\">JAVA_HOME=/usr/lib/java/jdk1.7.0_79</span><br></pre></td></tr></table></figure>\n\n<p>根据实际情况配置环境变量，然后将catalina.sh复制到/etc/init.d/目录下</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cp tomcat/bin/catalina.sh /etc/init.d/tomcat</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"2-更新tomcat-service，并启动：\"><a href=\"#2-更新tomcat-service，并启动：\" class=\"headerlink\" title=\"2. 更新tomcat service，并启动：\"></a>2. 更新tomcat service，并启动：</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">update-rc.d tomcat defaults</span><br><span class=\"line\">service tomcat start</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<p>将tomcat配置成linux service，跟随linux启动</p>","more":"<h2 id=\"1-编辑tomcat-bin-catalina-sh\"><a href=\"#1-编辑tomcat-bin-catalina-sh\" class=\"headerlink\" title=\"1. 编辑tomcat/bin/catalina.sh\"></a>1. 编辑tomcat/bin/catalina.sh</h2><p>在catalina.sh中添加java和tomcat环境变量</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CATALINA_HOME=/usr/local/tomcat</span><br><span class=\"line\">JAVA_HOME=/usr/lib/java/jdk1.7.0_79</span><br></pre></td></tr></table></figure>\n\n<p>根据实际情况配置环境变量，然后将catalina.sh复制到/etc/init.d/目录下</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cp tomcat/bin/catalina.sh /etc/init.d/tomcat</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"2-更新tomcat-service，并启动：\"><a href=\"#2-更新tomcat-service，并启动：\" class=\"headerlink\" title=\"2. 更新tomcat service，并启动：\"></a>2. 更新tomcat service，并启动：</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">update-rc.d tomcat defaults</span><br><span class=\"line\">service tomcat start</span><br></pre></td></tr></table></figure>"},{"title":"Tomcat启动时卡住不动","date":"2019-05-23T06:49:32.000Z","_content":"tomcat启动以后卡在INFO: Deploying web application directory ...\n\n<!-- more -->\n\n在weblogic的官方文档中 Monitoring and Troubleshooting 标题为 [Avoiding JVM Delays Caused By Random Number Generation](https://docs.oracle.com/cd/E13209_01/wlcp/wlss30/configwlss/jvmrand.html) 的文档\n\nThe library used for random number generation in Sun's JVM relies on /dev/random by default for UNIX platforms. This can potentially block the WebLogic SIP Server process because on some operating systems /dev/random waits for a certain amount of \"noise\" to be generated on the host machine before returning a result. Although /dev/random is more secure, BEA recommends using /dev/urandom if the default JVM configuration delays WebLogic SIP Server startup.\n\nTo determine if your operating system exhibits this behavior, try displaying a portion of the file from a shell prompt:\n\nhead -n 1 /dev/random\n\nIf the command returns immediately, you can use /dev/random as the default generator for SUN's JVM. If the command does not return immediately, use these steps to configure the JVM to use /dev/urandom:\n```\nOpen the $JAVA_HOME/jre/lib/security/java.security file in a text editor.\nChange the line:\n  securerandom.source=file:/dev/random\nto read:\n  securerandom.source=file:/dev/./urandom\nSave your change and exit the text editor.\n```","source":"_posts/Tomcat启动时卡住.md","raw":"---\ntitle: Tomcat启动时卡住不动\ndate: 2019-05-23 14:49:32\ncategories: 技术\ntags: [linux, tomcat]\n\n---\ntomcat启动以后卡在INFO: Deploying web application directory ...\n\n<!-- more -->\n\n在weblogic的官方文档中 Monitoring and Troubleshooting 标题为 [Avoiding JVM Delays Caused By Random Number Generation](https://docs.oracle.com/cd/E13209_01/wlcp/wlss30/configwlss/jvmrand.html) 的文档\n\nThe library used for random number generation in Sun's JVM relies on /dev/random by default for UNIX platforms. This can potentially block the WebLogic SIP Server process because on some operating systems /dev/random waits for a certain amount of \"noise\" to be generated on the host machine before returning a result. Although /dev/random is more secure, BEA recommends using /dev/urandom if the default JVM configuration delays WebLogic SIP Server startup.\n\nTo determine if your operating system exhibits this behavior, try displaying a portion of the file from a shell prompt:\n\nhead -n 1 /dev/random\n\nIf the command returns immediately, you can use /dev/random as the default generator for SUN's JVM. If the command does not return immediately, use these steps to configure the JVM to use /dev/urandom:\n```\nOpen the $JAVA_HOME/jre/lib/security/java.security file in a text editor.\nChange the line:\n  securerandom.source=file:/dev/random\nto read:\n  securerandom.source=file:/dev/./urandom\nSave your change and exit the text editor.\n```","slug":"Tomcat启动时卡住","published":1,"updated":"2019-05-23T10:20:16.885Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjw0ndpnr00024su7flpkld3x","content":"<p>tomcat启动以后卡在INFO: Deploying web application directory …</p>\n<a id=\"more\"></a>\n\n<p>在weblogic的官方文档中 Monitoring and Troubleshooting 标题为 <a href=\"https://docs.oracle.com/cd/E13209_01/wlcp/wlss30/configwlss/jvmrand.html\" target=\"_blank\" rel=\"noopener\">Avoiding JVM Delays Caused By Random Number Generation</a> 的文档</p>\n<p>The library used for random number generation in Sun’s JVM relies on /dev/random by default for UNIX platforms. This can potentially block the WebLogic SIP Server process because on some operating systems /dev/random waits for a certain amount of “noise” to be generated on the host machine before returning a result. Although /dev/random is more secure, BEA recommends using /dev/urandom if the default JVM configuration delays WebLogic SIP Server startup.</p>\n<p>To determine if your operating system exhibits this behavior, try displaying a portion of the file from a shell prompt:</p>\n<p>head -n 1 /dev/random</p>\n<p>If the command returns immediately, you can use /dev/random as the default generator for SUN’s JVM. If the command does not return immediately, use these steps to configure the JVM to use /dev/urandom:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Open the $JAVA_HOME/jre/lib/security/java.security file in a text editor.</span><br><span class=\"line\">Change the line:</span><br><span class=\"line\">  securerandom.source=file:/dev/random</span><br><span class=\"line\">to read:</span><br><span class=\"line\">  securerandom.source=file:/dev/./urandom</span><br><span class=\"line\">Save your change and exit the text editor.</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<p>tomcat启动以后卡在INFO: Deploying web application directory …</p>","more":"<p>在weblogic的官方文档中 Monitoring and Troubleshooting 标题为 <a href=\"https://docs.oracle.com/cd/E13209_01/wlcp/wlss30/configwlss/jvmrand.html\" target=\"_blank\" rel=\"noopener\">Avoiding JVM Delays Caused By Random Number Generation</a> 的文档</p>\n<p>The library used for random number generation in Sun’s JVM relies on /dev/random by default for UNIX platforms. This can potentially block the WebLogic SIP Server process because on some operating systems /dev/random waits for a certain amount of “noise” to be generated on the host machine before returning a result. Although /dev/random is more secure, BEA recommends using /dev/urandom if the default JVM configuration delays WebLogic SIP Server startup.</p>\n<p>To determine if your operating system exhibits this behavior, try displaying a portion of the file from a shell prompt:</p>\n<p>head -n 1 /dev/random</p>\n<p>If the command returns immediately, you can use /dev/random as the default generator for SUN’s JVM. If the command does not return immediately, use these steps to configure the JVM to use /dev/urandom:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Open the $JAVA_HOME/jre/lib/security/java.security file in a text editor.</span><br><span class=\"line\">Change the line:</span><br><span class=\"line\">  securerandom.source=file:/dev/random</span><br><span class=\"line\">to read:</span><br><span class=\"line\">  securerandom.source=file:/dev/./urandom</span><br><span class=\"line\">Save your change and exit the text editor.</span><br></pre></td></tr></table></figure>"},{"title":"VSCode插件提升hexo体验","date":"2019-05-23T07:19:07.000Z","_content":"Hexo的编写与部署可以通过vscode进行，同时通过对插件的使用也可以增强体验，提升效率\n\n<!-- more -->\n## 1. 图片剪切插件 [Paste Image](https://marketplace.visualstudio.com/items?itemName=mushan.vscode-paste-image)\nhexo3.0版本中可以在_config.yml中设置\n```\npost_asset_folder: true\n```\n这样在hexo new 的时候会生成同名的文件夹，同时在md文件中输入\n```\n{% asset_img xxx %}\n```\n就可以插入这个文件夹中的图片。为了方便进行这个步骤，使用vscode中的插件Paste Image，安装之后，在user-settings里新增两条配置：\n```\n\"pasteImage.path\": \"${currentFileNameWithoutExt}/\",\n\"pasteImage.insertPattern\": \"{% asset_img ${imageFilePath} %}\"\n```\n这样粘贴图片的时候会自动保存到文件夹中，并自动引用。注意这个插件只适合与剪切板使用，直接拖拽文件是不管用的。\n\n## 2. markdown预览插件 [Markdown Preview Enhanced](https://marketplace.visualstudio.com/items?itemName=shd101wyy.markdown-preview-enhanced)\n\n利用该插件预览\n```\n{% asset_img xxx %}\n```\n形式插入的图片，主要分为两步\n##### 1. ctrl+shift+P 找到 Markdown Preview Enhanced: Extend Parser，打开parser.js\n##### 2. 修改其中onWillParseMarkdown方法为：\n```javascript\nonWillParseMarkdown: function(markdown) {\n  return new Promise((resolve, reject)=> {\n    markdown = markdown.replace(\n      /\\{%\\s*asset_img\\s*(.*)\\s*%\\}/g,\n      (whole, content) => (`![](${content})`)\n    )\n    return resolve(markdown)\n  })\n},\n```","source":"_posts/VSCode插件提升hexo体验.md","raw":"---\ntitle: VSCode插件提升hexo体验\ndate: 2019-05-23 15:19:07\ncategories: 博客\ntags: hexo\n---\nHexo的编写与部署可以通过vscode进行，同时通过对插件的使用也可以增强体验，提升效率\n\n<!-- more -->\n## 1. 图片剪切插件 [Paste Image](https://marketplace.visualstudio.com/items?itemName=mushan.vscode-paste-image)\nhexo3.0版本中可以在_config.yml中设置\n```\npost_asset_folder: true\n```\n这样在hexo new 的时候会生成同名的文件夹，同时在md文件中输入\n```\n{% asset_img xxx %}\n```\n就可以插入这个文件夹中的图片。为了方便进行这个步骤，使用vscode中的插件Paste Image，安装之后，在user-settings里新增两条配置：\n```\n\"pasteImage.path\": \"${currentFileNameWithoutExt}/\",\n\"pasteImage.insertPattern\": \"{% asset_img ${imageFilePath} %}\"\n```\n这样粘贴图片的时候会自动保存到文件夹中，并自动引用。注意这个插件只适合与剪切板使用，直接拖拽文件是不管用的。\n\n## 2. markdown预览插件 [Markdown Preview Enhanced](https://marketplace.visualstudio.com/items?itemName=shd101wyy.markdown-preview-enhanced)\n\n利用该插件预览\n```\n{% asset_img xxx %}\n```\n形式插入的图片，主要分为两步\n##### 1. ctrl+shift+P 找到 Markdown Preview Enhanced: Extend Parser，打开parser.js\n##### 2. 修改其中onWillParseMarkdown方法为：\n```javascript\nonWillParseMarkdown: function(markdown) {\n  return new Promise((resolve, reject)=> {\n    markdown = markdown.replace(\n      /\\{%\\s*asset_img\\s*(.*)\\s*%\\}/g,\n      (whole, content) => (`![](${content})`)\n    )\n    return resolve(markdown)\n  })\n},\n```","slug":"VSCode插件提升hexo体验","published":1,"updated":"2019-05-23T12:57:15.589Z","_id":"cjw0ndpnv00054su7b26juovn","comments":1,"layout":"post","photos":[],"link":"","content":"<p>Hexo的编写与部署可以通过vscode进行，同时通过对插件的使用也可以增强体验，提升效率</p>\n<a id=\"more\"></a>\n<h2 id=\"1-图片剪切插件-Paste-Image\"><a href=\"#1-图片剪切插件-Paste-Image\" class=\"headerlink\" title=\"1. 图片剪切插件 Paste Image\"></a>1. 图片剪切插件 <a href=\"https://marketplace.visualstudio.com/items?itemName=mushan.vscode-paste-image\" target=\"_blank\" rel=\"noopener\">Paste Image</a></h2><p>hexo3.0版本中可以在_config.yml中设置</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">post_asset_folder: true</span><br></pre></td></tr></table></figure>\n\n<p>这样在hexo new 的时候会生成同名的文件夹，同时在md文件中输入</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% asset_img xxx %&#125;</span><br></pre></td></tr></table></figure>\n\n<p>就可以插入这个文件夹中的图片。为了方便进行这个步骤，使用vscode中的插件Paste Image，安装之后，在user-settings里新增两条配置：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;pasteImage.path&quot;: &quot;$&#123;currentFileNameWithoutExt&#125;/&quot;,</span><br><span class=\"line\">&quot;pasteImage.insertPattern&quot;: &quot;&#123;% asset_img $&#123;imageFilePath&#125; %&#125;&quot;</span><br></pre></td></tr></table></figure>\n\n<p>这样粘贴图片的时候会自动保存到文件夹中，并自动引用。注意这个插件只适合与剪切板使用，直接拖拽文件是不管用的。</p>\n<h2 id=\"2-markdown预览插件-Markdown-Preview-Enhanced\"><a href=\"#2-markdown预览插件-Markdown-Preview-Enhanced\" class=\"headerlink\" title=\"2. markdown预览插件 Markdown Preview Enhanced\"></a>2. markdown预览插件 <a href=\"https://marketplace.visualstudio.com/items?itemName=shd101wyy.markdown-preview-enhanced\" target=\"_blank\" rel=\"noopener\">Markdown Preview Enhanced</a></h2><p>利用该插件预览</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% asset_img xxx %&#125;</span><br></pre></td></tr></table></figure>\n\n<p>形式插入的图片，主要分为两步</p>\n<h5 id=\"1-ctrl-shift-P-找到-Markdown-Preview-Enhanced-Extend-Parser，打开parser-js\"><a href=\"#1-ctrl-shift-P-找到-Markdown-Preview-Enhanced-Extend-Parser，打开parser-js\" class=\"headerlink\" title=\"1. ctrl+shift+P 找到 Markdown Preview Enhanced: Extend Parser，打开parser.js\"></a>1. ctrl+shift+P 找到 Markdown Preview Enhanced: Extend Parser，打开parser.js</h5><h5 id=\"2-修改其中onWillParseMarkdown方法为：\"><a href=\"#2-修改其中onWillParseMarkdown方法为：\" class=\"headerlink\" title=\"2. 修改其中onWillParseMarkdown方法为：\"></a>2. 修改其中onWillParseMarkdown方法为：</h5><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">onWillParseMarkdown: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">markdown</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>)=&gt;</span> &#123;</span><br><span class=\"line\">    markdown = markdown.replace(</span><br><span class=\"line\">      /\\&#123;%\\s*asset_img\\s*(.*)\\s*%\\&#125;/g,</span><br><span class=\"line\">      (whole, content) =&gt; (<span class=\"string\">`![](<span class=\"subst\">$&#123;content&#125;</span>)`</span>)</span><br><span class=\"line\">    )</span><br><span class=\"line\">    <span class=\"keyword\">return</span> resolve(markdown)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"<p>Hexo的编写与部署可以通过vscode进行，同时通过对插件的使用也可以增强体验，提升效率</p>","more":"<h2 id=\"1-图片剪切插件-Paste-Image\"><a href=\"#1-图片剪切插件-Paste-Image\" class=\"headerlink\" title=\"1. 图片剪切插件 Paste Image\"></a>1. 图片剪切插件 <a href=\"https://marketplace.visualstudio.com/items?itemName=mushan.vscode-paste-image\" target=\"_blank\" rel=\"noopener\">Paste Image</a></h2><p>hexo3.0版本中可以在_config.yml中设置</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">post_asset_folder: true</span><br></pre></td></tr></table></figure>\n\n<p>这样在hexo new 的时候会生成同名的文件夹，同时在md文件中输入</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% asset_img xxx %&#125;</span><br></pre></td></tr></table></figure>\n\n<p>就可以插入这个文件夹中的图片。为了方便进行这个步骤，使用vscode中的插件Paste Image，安装之后，在user-settings里新增两条配置：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;pasteImage.path&quot;: &quot;$&#123;currentFileNameWithoutExt&#125;/&quot;,</span><br><span class=\"line\">&quot;pasteImage.insertPattern&quot;: &quot;&#123;% asset_img $&#123;imageFilePath&#125; %&#125;&quot;</span><br></pre></td></tr></table></figure>\n\n<p>这样粘贴图片的时候会自动保存到文件夹中，并自动引用。注意这个插件只适合与剪切板使用，直接拖拽文件是不管用的。</p>\n<h2 id=\"2-markdown预览插件-Markdown-Preview-Enhanced\"><a href=\"#2-markdown预览插件-Markdown-Preview-Enhanced\" class=\"headerlink\" title=\"2. markdown预览插件 Markdown Preview Enhanced\"></a>2. markdown预览插件 <a href=\"https://marketplace.visualstudio.com/items?itemName=shd101wyy.markdown-preview-enhanced\" target=\"_blank\" rel=\"noopener\">Markdown Preview Enhanced</a></h2><p>利用该插件预览</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% asset_img xxx %&#125;</span><br></pre></td></tr></table></figure>\n\n<p>形式插入的图片，主要分为两步</p>\n<h5 id=\"1-ctrl-shift-P-找到-Markdown-Preview-Enhanced-Extend-Parser，打开parser-js\"><a href=\"#1-ctrl-shift-P-找到-Markdown-Preview-Enhanced-Extend-Parser，打开parser-js\" class=\"headerlink\" title=\"1. ctrl+shift+P 找到 Markdown Preview Enhanced: Extend Parser，打开parser.js\"></a>1. ctrl+shift+P 找到 Markdown Preview Enhanced: Extend Parser，打开parser.js</h5><h5 id=\"2-修改其中onWillParseMarkdown方法为：\"><a href=\"#2-修改其中onWillParseMarkdown方法为：\" class=\"headerlink\" title=\"2. 修改其中onWillParseMarkdown方法为：\"></a>2. 修改其中onWillParseMarkdown方法为：</h5><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">onWillParseMarkdown: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">markdown</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>)=&gt;</span> &#123;</span><br><span class=\"line\">    markdown = markdown.replace(</span><br><span class=\"line\">      /\\&#123;%\\s*asset_img\\s*(.*)\\s*%\\&#125;/g,</span><br><span class=\"line\">      (whole, content) =&gt; (<span class=\"string\">`![](<span class=\"subst\">$&#123;content&#125;</span>)`</span>)</span><br><span class=\"line\">    )</span><br><span class=\"line\">    <span class=\"keyword\">return</span> resolve(markdown)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>"},{"title":"北洋三部曲","date":"2018-07-22T08:17:00.000Z","_content":"终于刷完了姜文北洋三部曲的最后一部——邪不压正。这三部分别是《让子弹飞》、《一步之遥》以及最近才上映的的《邪不压正》。对于这种抗日战争类型的电影，我一直觉得女生应该不会喜欢的，但是今天在电影院明显感觉到女生的数量很多，甚至有一群女生结伴而来的。我甚是疑惑，直到看到彭于晏在屋顶裸奔后，我便明白了，原来如此。对于我来说，我是冲着姜文去的，也是冲着这三部曲的最后一部去电影院的，不然一个人去电影院吃狗粮还是很让人头疼的，为此我还提前又刷了一遍《一步之遥》。\n\n<!-- more --> \n\n​    在谈《邪不压正》之前，我想先聊聊《让子弹飞》。《让子弹飞》是八年前上映的，那个时候还在读高中。每逢周末，学校就会找个会议室，放一放电影。当时看的第一部是《山楂树之恋》，十六七岁的年轻人满满当当的站满了一屋子，现在想起来都是青春的气息。随后有一次看到了《让子弹飞》，这部片无疑是非常成功的一部电影，堪称经典，无论是在题材内容上，演员的演绎上还是这个名字的选取上都是令人称道的。怎奈当时年轻，并没有看懂，当然其实大部分人都不能说看懂了。这是一部内容丰富且演绎到位的文艺片，可是文艺片的受众明显小得多，为什么他能火起来呢？我反反复复看了好几遍这个电影，最终我认为，其中缘由是“俗”。世界也称俗世，还是俗人多一点，大部分喜欢那些不需要思考的电影，图个乐子而已。这部片子充斥着黑色幽默以及一些荤段子，这种俗完全与文艺背道而驰，有时完全没有内涵，在电影中形成了各种单口相声，对口相声甚至是多口相声。但是这样的俗叫座，不需要看懂，跟着笑就是了。\n\n​    可是《让子弹飞》并不是只有俗，它还有雅，这个雅的表现归功于张麻子，师爷还有黄四郎，三位主演的功力深厚，将雅的内涵完全彰显。《让子弹飞》是一部不可多得的雅俗共赏的好电影。其中我比较喜欢的一些片段：\n\n{% asset_img 01.jpg %}  \n\n{% asset_img 02.jpg %}  \n\n{% asset_img 03.jpg %}  \n\n{% asset_img 04.jpg %}  \n\n{% asset_img 05.jpg %}  \n\n{% asset_img 06.jpg %}  \n\n一千个人眼中有一千个哈姆雷特，每个人眼中的《让子弹飞》都是不一样了。这部作品就像陈年佳酿一样，越品越有味。与之相比，作为第二部的《一步之遥》便逊色了许多，这是一部纯粹的文艺片，很多人看到一会就放弃了，感到食之无味。第一次看，我坚持了10分钟，便放弃了，而后像对待文学作品一般将其看了一遍，发现确实是好片，但是不够俗。前面大段的铺垫，舒淇刻画了一个十分高傲的女性角色——完颜。不得不说舒淇从气质上符合这个角色，高傲却不失大气。但是我觉得这里这部片子让人枯燥的原因，因为大段的铺垫显得没有目的性，也没有很多俗的成分，完全无法吸引眼球，铺垫已经耗去了观众的期望，接着正片开始了却让人感觉索然无味。\n\n实际上进入主线后，因为马走日为了完颜大打出手，完颜卸下自己高傲的外表，大胆的表示了自己的爱意，可是在马走日看来两人只是相交多年的好友，他不能答应，但是同样的他没有拒绝。回头一想，在现实中既不答应也不拒绝的情况却是时时都在上演。在看到这里的时候，我就在想，如果不能爽快的答应，那就爽快的拒绝，何必徒增痛苦。\n\n{% asset_img 07.jpg %}  \n\n然而在现实中，大部分人遇到这种情况往往选择了逃避，正如马走日一样。为了逃避选择，他带着完颜吸起了鸦片，然后开车兜风，按照现在来讲就是毒驾，之后车祸，完颜死亡，他逃逸，最终一场交通事故被各方演绎成了杀人逃逸。到了最后，马走日杀没杀完颜已经不重要了，枪毙马走日才是最重要的。用《让子弹飞》里的台词来说是这样的： \n\n{% asset_img 08.jpg %}  \n\n{% asset_img 09.jpg %}  \n\n这就是人性，很多事情发展到最后，原来的目的已经不重要了。\n\n在逃亡过程中，周韵饰演的武六亦表达了爱意，马走日面对这自己喜欢的人，却依旧选择了拒绝，选择了一个人独自面对。说实话看到这里你可能很疑惑，面对着完颜，他没有接受，面对着武六，他依旧没有接受。可是为什么我会说马走日喜欢武六但不喜欢完颜呢？实际上在剧中有一句话我反反复复看了很多遍：\n\n{% asset_img 09.jpg %}\n\n{% asset_img 10.jpg %}\n\n{% asset_img 11.jpg %}\n\n{% asset_img 12.jpg %}\n\n{% asset_img 13.jpg %}\n\n{% asset_img 14.jpg %}\n\n{% asset_img 15.jpg %}\n\n“我就不明白，为什么一见着完颜，我就不三不四地装不正经，可是一见着武六，我就七上八下，想说的话，一个字儿都说不出口”，这句话我仔仔细细的品味了很久。虽然同样拒绝了，但是一个是不三不四，一个却是七上八下。面对着很熟的异性朋友，因为相熟，会抛弃约束，显得不三不四，但是面对喜欢的人，因为在乎，所以紧张，因而七上八下。\n\n一个人对另一个人的喜欢是假装不了，也是藏不住的，就算掩饰的再好，那种喜欢和在乎也会从眼睛中溢出来。\n\n{% asset_img 15.jpg 这是一双会说话的眼睛 %}\n\n最后，讲讲《邪不压正》，说实话，我是有点失望的。《让子弹飞》雅俗兼具，充斥这对人性的思考。《一步之遥》则向文艺更进一步，除了人性还有人与人之间的情感纠葛。但是《邪不压正》，或许我理解不够吧，我觉得这部作品过于商业化，彭于晏帅归帅，却背不起更深层次的包袱，除了在房顶的裸奔，传达不了更深的思考，并不是说彭于晏演的不好，而是作品本身并没有借助这个角色传达出更深一层意思的想法。周韵所饰演的裁缝似乎一直游离于剧情之外，让人感觉突兀。周韵在《一步之遥》和《邪不压正》中均与主角有感情纠葛，可是我总觉得她的爱意中总是夹杂着些冷漠，显得格格不入。总之，这部剧我并不是很喜欢。","source":"_posts/北洋三部曲.md","raw":"title: 北洋三部曲\ncategories:\n  - 电影\ntags:\n  - 姜文\ndate: 2018-07-22 16:17:00\n\n---\n终于刷完了姜文北洋三部曲的最后一部——邪不压正。这三部分别是《让子弹飞》、《一步之遥》以及最近才上映的的《邪不压正》。对于这种抗日战争类型的电影，我一直觉得女生应该不会喜欢的，但是今天在电影院明显感觉到女生的数量很多，甚至有一群女生结伴而来的。我甚是疑惑，直到看到彭于晏在屋顶裸奔后，我便明白了，原来如此。对于我来说，我是冲着姜文去的，也是冲着这三部曲的最后一部去电影院的，不然一个人去电影院吃狗粮还是很让人头疼的，为此我还提前又刷了一遍《一步之遥》。\n\n<!-- more --> \n\n​    在谈《邪不压正》之前，我想先聊聊《让子弹飞》。《让子弹飞》是八年前上映的，那个时候还在读高中。每逢周末，学校就会找个会议室，放一放电影。当时看的第一部是《山楂树之恋》，十六七岁的年轻人满满当当的站满了一屋子，现在想起来都是青春的气息。随后有一次看到了《让子弹飞》，这部片无疑是非常成功的一部电影，堪称经典，无论是在题材内容上，演员的演绎上还是这个名字的选取上都是令人称道的。怎奈当时年轻，并没有看懂，当然其实大部分人都不能说看懂了。这是一部内容丰富且演绎到位的文艺片，可是文艺片的受众明显小得多，为什么他能火起来呢？我反反复复看了好几遍这个电影，最终我认为，其中缘由是“俗”。世界也称俗世，还是俗人多一点，大部分喜欢那些不需要思考的电影，图个乐子而已。这部片子充斥着黑色幽默以及一些荤段子，这种俗完全与文艺背道而驰，有时完全没有内涵，在电影中形成了各种单口相声，对口相声甚至是多口相声。但是这样的俗叫座，不需要看懂，跟着笑就是了。\n\n​    可是《让子弹飞》并不是只有俗，它还有雅，这个雅的表现归功于张麻子，师爷还有黄四郎，三位主演的功力深厚，将雅的内涵完全彰显。《让子弹飞》是一部不可多得的雅俗共赏的好电影。其中我比较喜欢的一些片段：\n\n{% asset_img 01.jpg %}  \n\n{% asset_img 02.jpg %}  \n\n{% asset_img 03.jpg %}  \n\n{% asset_img 04.jpg %}  \n\n{% asset_img 05.jpg %}  \n\n{% asset_img 06.jpg %}  \n\n一千个人眼中有一千个哈姆雷特，每个人眼中的《让子弹飞》都是不一样了。这部作品就像陈年佳酿一样，越品越有味。与之相比，作为第二部的《一步之遥》便逊色了许多，这是一部纯粹的文艺片，很多人看到一会就放弃了，感到食之无味。第一次看，我坚持了10分钟，便放弃了，而后像对待文学作品一般将其看了一遍，发现确实是好片，但是不够俗。前面大段的铺垫，舒淇刻画了一个十分高傲的女性角色——完颜。不得不说舒淇从气质上符合这个角色，高傲却不失大气。但是我觉得这里这部片子让人枯燥的原因，因为大段的铺垫显得没有目的性，也没有很多俗的成分，完全无法吸引眼球，铺垫已经耗去了观众的期望，接着正片开始了却让人感觉索然无味。\n\n实际上进入主线后，因为马走日为了完颜大打出手，完颜卸下自己高傲的外表，大胆的表示了自己的爱意，可是在马走日看来两人只是相交多年的好友，他不能答应，但是同样的他没有拒绝。回头一想，在现实中既不答应也不拒绝的情况却是时时都在上演。在看到这里的时候，我就在想，如果不能爽快的答应，那就爽快的拒绝，何必徒增痛苦。\n\n{% asset_img 07.jpg %}  \n\n然而在现实中，大部分人遇到这种情况往往选择了逃避，正如马走日一样。为了逃避选择，他带着完颜吸起了鸦片，然后开车兜风，按照现在来讲就是毒驾，之后车祸，完颜死亡，他逃逸，最终一场交通事故被各方演绎成了杀人逃逸。到了最后，马走日杀没杀完颜已经不重要了，枪毙马走日才是最重要的。用《让子弹飞》里的台词来说是这样的： \n\n{% asset_img 08.jpg %}  \n\n{% asset_img 09.jpg %}  \n\n这就是人性，很多事情发展到最后，原来的目的已经不重要了。\n\n在逃亡过程中，周韵饰演的武六亦表达了爱意，马走日面对这自己喜欢的人，却依旧选择了拒绝，选择了一个人独自面对。说实话看到这里你可能很疑惑，面对着完颜，他没有接受，面对着武六，他依旧没有接受。可是为什么我会说马走日喜欢武六但不喜欢完颜呢？实际上在剧中有一句话我反反复复看了很多遍：\n\n{% asset_img 09.jpg %}\n\n{% asset_img 10.jpg %}\n\n{% asset_img 11.jpg %}\n\n{% asset_img 12.jpg %}\n\n{% asset_img 13.jpg %}\n\n{% asset_img 14.jpg %}\n\n{% asset_img 15.jpg %}\n\n“我就不明白，为什么一见着完颜，我就不三不四地装不正经，可是一见着武六，我就七上八下，想说的话，一个字儿都说不出口”，这句话我仔仔细细的品味了很久。虽然同样拒绝了，但是一个是不三不四，一个却是七上八下。面对着很熟的异性朋友，因为相熟，会抛弃约束，显得不三不四，但是面对喜欢的人，因为在乎，所以紧张，因而七上八下。\n\n一个人对另一个人的喜欢是假装不了，也是藏不住的，就算掩饰的再好，那种喜欢和在乎也会从眼睛中溢出来。\n\n{% asset_img 15.jpg 这是一双会说话的眼睛 %}\n\n最后，讲讲《邪不压正》，说实话，我是有点失望的。《让子弹飞》雅俗兼具，充斥这对人性的思考。《一步之遥》则向文艺更进一步，除了人性还有人与人之间的情感纠葛。但是《邪不压正》，或许我理解不够吧，我觉得这部作品过于商业化，彭于晏帅归帅，却背不起更深层次的包袱，除了在房顶的裸奔，传达不了更深的思考，并不是说彭于晏演的不好，而是作品本身并没有借助这个角色传达出更深一层意思的想法。周韵所饰演的裁缝似乎一直游离于剧情之外，让人感觉突兀。周韵在《一步之遥》和《邪不压正》中均与主角有感情纠葛，可是我总觉得她的爱意中总是夹杂着些冷漠，显得格格不入。总之，这部剧我并不是很喜欢。","slug":"北洋三部曲","published":1,"updated":"2019-05-23T10:19:58.087Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjw0ndpo9000k4su7knv08lwx","content":"<p>终于刷完了姜文北洋三部曲的最后一部——邪不压正。这三部分别是《让子弹飞》、《一步之遥》以及最近才上映的的《邪不压正》。对于这种抗日战争类型的电影，我一直觉得女生应该不会喜欢的，但是今天在电影院明显感觉到女生的数量很多，甚至有一群女生结伴而来的。我甚是疑惑，直到看到彭于晏在屋顶裸奔后，我便明白了，原来如此。对于我来说，我是冲着姜文去的，也是冲着这三部曲的最后一部去电影院的，不然一个人去电影院吃狗粮还是很让人头疼的，为此我还提前又刷了一遍《一步之遥》。</p>\n<a id=\"more\"></a> \n\n<p>​    在谈《邪不压正》之前，我想先聊聊《让子弹飞》。《让子弹飞》是八年前上映的，那个时候还在读高中。每逢周末，学校就会找个会议室，放一放电影。当时看的第一部是《山楂树之恋》，十六七岁的年轻人满满当当的站满了一屋子，现在想起来都是青春的气息。随后有一次看到了《让子弹飞》，这部片无疑是非常成功的一部电影，堪称经典，无论是在题材内容上，演员的演绎上还是这个名字的选取上都是令人称道的。怎奈当时年轻，并没有看懂，当然其实大部分人都不能说看懂了。这是一部内容丰富且演绎到位的文艺片，可是文艺片的受众明显小得多，为什么他能火起来呢？我反反复复看了好几遍这个电影，最终我认为，其中缘由是“俗”。世界也称俗世，还是俗人多一点，大部分喜欢那些不需要思考的电影，图个乐子而已。这部片子充斥着黑色幽默以及一些荤段子，这种俗完全与文艺背道而驰，有时完全没有内涵，在电影中形成了各种单口相声，对口相声甚至是多口相声。但是这样的俗叫座，不需要看懂，跟着笑就是了。</p>\n<p>​    可是《让子弹飞》并不是只有俗，它还有雅，这个雅的表现归功于张麻子，师爷还有黄四郎，三位主演的功力深厚，将雅的内涵完全彰显。《让子弹飞》是一部不可多得的雅俗共赏的好电影。其中我比较喜欢的一些片段：</p>\n<img src=\"/2018/07/22/北洋三部曲/01.jpg\">  \n\n<img src=\"/2018/07/22/北洋三部曲/02.jpg\">  \n\n<img src=\"/2018/07/22/北洋三部曲/03.jpg\">  \n\n<img src=\"/2018/07/22/北洋三部曲/04.jpg\">  \n\n<img src=\"/2018/07/22/北洋三部曲/05.jpg\">  \n\n<img src=\"/2018/07/22/北洋三部曲/06.jpg\">  \n\n<p>一千个人眼中有一千个哈姆雷特，每个人眼中的《让子弹飞》都是不一样了。这部作品就像陈年佳酿一样，越品越有味。与之相比，作为第二部的《一步之遥》便逊色了许多，这是一部纯粹的文艺片，很多人看到一会就放弃了，感到食之无味。第一次看，我坚持了10分钟，便放弃了，而后像对待文学作品一般将其看了一遍，发现确实是好片，但是不够俗。前面大段的铺垫，舒淇刻画了一个十分高傲的女性角色——完颜。不得不说舒淇从气质上符合这个角色，高傲却不失大气。但是我觉得这里这部片子让人枯燥的原因，因为大段的铺垫显得没有目的性，也没有很多俗的成分，完全无法吸引眼球，铺垫已经耗去了观众的期望，接着正片开始了却让人感觉索然无味。</p>\n<p>实际上进入主线后，因为马走日为了完颜大打出手，完颜卸下自己高傲的外表，大胆的表示了自己的爱意，可是在马走日看来两人只是相交多年的好友，他不能答应，但是同样的他没有拒绝。回头一想，在现实中既不答应也不拒绝的情况却是时时都在上演。在看到这里的时候，我就在想，如果不能爽快的答应，那就爽快的拒绝，何必徒增痛苦。</p>\n<img src=\"/2018/07/22/北洋三部曲/07.jpg\">  \n\n<p>然而在现实中，大部分人遇到这种情况往往选择了逃避，正如马走日一样。为了逃避选择，他带着完颜吸起了鸦片，然后开车兜风，按照现在来讲就是毒驾，之后车祸，完颜死亡，他逃逸，最终一场交通事故被各方演绎成了杀人逃逸。到了最后，马走日杀没杀完颜已经不重要了，枪毙马走日才是最重要的。用《让子弹飞》里的台词来说是这样的： </p>\n<img src=\"/2018/07/22/北洋三部曲/08.jpg\">  \n\n<img src=\"/2018/07/22/北洋三部曲/09.jpg\">  \n\n<p>这就是人性，很多事情发展到最后，原来的目的已经不重要了。</p>\n<p>在逃亡过程中，周韵饰演的武六亦表达了爱意，马走日面对这自己喜欢的人，却依旧选择了拒绝，选择了一个人独自面对。说实话看到这里你可能很疑惑，面对着完颜，他没有接受，面对着武六，他依旧没有接受。可是为什么我会说马走日喜欢武六但不喜欢完颜呢？实际上在剧中有一句话我反反复复看了很多遍：</p>\n<img src=\"/2018/07/22/北洋三部曲/09.jpg\">\n\n<img src=\"/2018/07/22/北洋三部曲/10.jpg\">\n\n<img src=\"/2018/07/22/北洋三部曲/11.jpg\">\n\n<img src=\"/2018/07/22/北洋三部曲/12.jpg\">\n\n<img src=\"/2018/07/22/北洋三部曲/13.jpg\">\n\n<img src=\"/2018/07/22/北洋三部曲/14.jpg\">\n\n<img src=\"/2018/07/22/北洋三部曲/15.jpg\">\n\n<p>“我就不明白，为什么一见着完颜，我就不三不四地装不正经，可是一见着武六，我就七上八下，想说的话，一个字儿都说不出口”，这句话我仔仔细细的品味了很久。虽然同样拒绝了，但是一个是不三不四，一个却是七上八下。面对着很熟的异性朋友，因为相熟，会抛弃约束，显得不三不四，但是面对喜欢的人，因为在乎，所以紧张，因而七上八下。</p>\n<p>一个人对另一个人的喜欢是假装不了，也是藏不住的，就算掩饰的再好，那种喜欢和在乎也会从眼睛中溢出来。</p>\n<img src=\"/2018/07/22/北洋三部曲/15.jpg\" title=\"这是一双会说话的眼睛\">\n\n<p>最后，讲讲《邪不压正》，说实话，我是有点失望的。《让子弹飞》雅俗兼具，充斥这对人性的思考。《一步之遥》则向文艺更进一步，除了人性还有人与人之间的情感纠葛。但是《邪不压正》，或许我理解不够吧，我觉得这部作品过于商业化，彭于晏帅归帅，却背不起更深层次的包袱，除了在房顶的裸奔，传达不了更深的思考，并不是说彭于晏演的不好，而是作品本身并没有借助这个角色传达出更深一层意思的想法。周韵所饰演的裁缝似乎一直游离于剧情之外，让人感觉突兀。周韵在《一步之遥》和《邪不压正》中均与主角有感情纠葛，可是我总觉得她的爱意中总是夹杂着些冷漠，显得格格不入。总之，这部剧我并不是很喜欢。</p>\n","site":{"data":{}},"excerpt":"<p>终于刷完了姜文北洋三部曲的最后一部——邪不压正。这三部分别是《让子弹飞》、《一步之遥》以及最近才上映的的《邪不压正》。对于这种抗日战争类型的电影，我一直觉得女生应该不会喜欢的，但是今天在电影院明显感觉到女生的数量很多，甚至有一群女生结伴而来的。我甚是疑惑，直到看到彭于晏在屋顶裸奔后，我便明白了，原来如此。对于我来说，我是冲着姜文去的，也是冲着这三部曲的最后一部去电影院的，不然一个人去电影院吃狗粮还是很让人头疼的，为此我还提前又刷了一遍《一步之遥》。</p>","more":"<p>​    在谈《邪不压正》之前，我想先聊聊《让子弹飞》。《让子弹飞》是八年前上映的，那个时候还在读高中。每逢周末，学校就会找个会议室，放一放电影。当时看的第一部是《山楂树之恋》，十六七岁的年轻人满满当当的站满了一屋子，现在想起来都是青春的气息。随后有一次看到了《让子弹飞》，这部片无疑是非常成功的一部电影，堪称经典，无论是在题材内容上，演员的演绎上还是这个名字的选取上都是令人称道的。怎奈当时年轻，并没有看懂，当然其实大部分人都不能说看懂了。这是一部内容丰富且演绎到位的文艺片，可是文艺片的受众明显小得多，为什么他能火起来呢？我反反复复看了好几遍这个电影，最终我认为，其中缘由是“俗”。世界也称俗世，还是俗人多一点，大部分喜欢那些不需要思考的电影，图个乐子而已。这部片子充斥着黑色幽默以及一些荤段子，这种俗完全与文艺背道而驰，有时完全没有内涵，在电影中形成了各种单口相声，对口相声甚至是多口相声。但是这样的俗叫座，不需要看懂，跟着笑就是了。</p>\n<p>​    可是《让子弹飞》并不是只有俗，它还有雅，这个雅的表现归功于张麻子，师爷还有黄四郎，三位主演的功力深厚，将雅的内涵完全彰显。《让子弹飞》是一部不可多得的雅俗共赏的好电影。其中我比较喜欢的一些片段：</p>\n<img src=\"/2018/07/22/北洋三部曲/01.jpg\">  \n\n<img src=\"/2018/07/22/北洋三部曲/02.jpg\">  \n\n<img src=\"/2018/07/22/北洋三部曲/03.jpg\">  \n\n<img src=\"/2018/07/22/北洋三部曲/04.jpg\">  \n\n<img src=\"/2018/07/22/北洋三部曲/05.jpg\">  \n\n<img src=\"/2018/07/22/北洋三部曲/06.jpg\">  \n\n<p>一千个人眼中有一千个哈姆雷特，每个人眼中的《让子弹飞》都是不一样了。这部作品就像陈年佳酿一样，越品越有味。与之相比，作为第二部的《一步之遥》便逊色了许多，这是一部纯粹的文艺片，很多人看到一会就放弃了，感到食之无味。第一次看，我坚持了10分钟，便放弃了，而后像对待文学作品一般将其看了一遍，发现确实是好片，但是不够俗。前面大段的铺垫，舒淇刻画了一个十分高傲的女性角色——完颜。不得不说舒淇从气质上符合这个角色，高傲却不失大气。但是我觉得这里这部片子让人枯燥的原因，因为大段的铺垫显得没有目的性，也没有很多俗的成分，完全无法吸引眼球，铺垫已经耗去了观众的期望，接着正片开始了却让人感觉索然无味。</p>\n<p>实际上进入主线后，因为马走日为了完颜大打出手，完颜卸下自己高傲的外表，大胆的表示了自己的爱意，可是在马走日看来两人只是相交多年的好友，他不能答应，但是同样的他没有拒绝。回头一想，在现实中既不答应也不拒绝的情况却是时时都在上演。在看到这里的时候，我就在想，如果不能爽快的答应，那就爽快的拒绝，何必徒增痛苦。</p>\n<img src=\"/2018/07/22/北洋三部曲/07.jpg\">  \n\n<p>然而在现实中，大部分人遇到这种情况往往选择了逃避，正如马走日一样。为了逃避选择，他带着完颜吸起了鸦片，然后开车兜风，按照现在来讲就是毒驾，之后车祸，完颜死亡，他逃逸，最终一场交通事故被各方演绎成了杀人逃逸。到了最后，马走日杀没杀完颜已经不重要了，枪毙马走日才是最重要的。用《让子弹飞》里的台词来说是这样的： </p>\n<img src=\"/2018/07/22/北洋三部曲/08.jpg\">  \n\n<img src=\"/2018/07/22/北洋三部曲/09.jpg\">  \n\n<p>这就是人性，很多事情发展到最后，原来的目的已经不重要了。</p>\n<p>在逃亡过程中，周韵饰演的武六亦表达了爱意，马走日面对这自己喜欢的人，却依旧选择了拒绝，选择了一个人独自面对。说实话看到这里你可能很疑惑，面对着完颜，他没有接受，面对着武六，他依旧没有接受。可是为什么我会说马走日喜欢武六但不喜欢完颜呢？实际上在剧中有一句话我反反复复看了很多遍：</p>\n<img src=\"/2018/07/22/北洋三部曲/09.jpg\">\n\n<img src=\"/2018/07/22/北洋三部曲/10.jpg\">\n\n<img src=\"/2018/07/22/北洋三部曲/11.jpg\">\n\n<img src=\"/2018/07/22/北洋三部曲/12.jpg\">\n\n<img src=\"/2018/07/22/北洋三部曲/13.jpg\">\n\n<img src=\"/2018/07/22/北洋三部曲/14.jpg\">\n\n<img src=\"/2018/07/22/北洋三部曲/15.jpg\">\n\n<p>“我就不明白，为什么一见着完颜，我就不三不四地装不正经，可是一见着武六，我就七上八下，想说的话，一个字儿都说不出口”，这句话我仔仔细细的品味了很久。虽然同样拒绝了，但是一个是不三不四，一个却是七上八下。面对着很熟的异性朋友，因为相熟，会抛弃约束，显得不三不四，但是面对喜欢的人，因为在乎，所以紧张，因而七上八下。</p>\n<p>一个人对另一个人的喜欢是假装不了，也是藏不住的，就算掩饰的再好，那种喜欢和在乎也会从眼睛中溢出来。</p>\n<img src=\"/2018/07/22/北洋三部曲/15.jpg\" title=\"这是一双会说话的眼睛\">\n\n<p>最后，讲讲《邪不压正》，说实话，我是有点失望的。《让子弹飞》雅俗兼具，充斥这对人性的思考。《一步之遥》则向文艺更进一步，除了人性还有人与人之间的情感纠葛。但是《邪不压正》，或许我理解不够吧，我觉得这部作品过于商业化，彭于晏帅归帅，却背不起更深层次的包袱，除了在房顶的裸奔，传达不了更深的思考，并不是说彭于晏演的不好，而是作品本身并没有借助这个角色传达出更深一层意思的想法。周韵所饰演的裁缝似乎一直游离于剧情之外，让人感觉突兀。周韵在《一步之遥》和《邪不压正》中均与主角有感情纠葛，可是我总觉得她的爱意中总是夹杂着些冷漠，显得格格不入。总之，这部剧我并不是很喜欢。</p>"},{"title":"vsftpd安装与配置","date":"2019-05-22T08:18:06.000Z","_content":"vsftpd 是“very secure FTP daemon”的缩写，安全性是它的一个最大的特点。vsftpd 是一个 UNIX 类操作系统上运行的服务器的名字，它可以运行在诸如 Linux、BSD、Solaris、 HP-UNIX等系统上面，是一个完全免费的、开放源代码的ftp服务器软件，支持很多其他的 FTP 服务器所不支持的特征。比如：非常高的安全性需求、带宽限制、良好的可伸缩性、可创建虚拟用户、支持IPv6、速率高等。\n<!-- more --> \n## 1. 安装vsftpd\n对于ubuntu系统可以很容易的通过apt-get来安装vsftpd\n```\nsudo apt-get install vsftpd\n```\n其配置文件在\n```\n/etc/vsftpd.conf\n```\n根据实际环境需要修改配置文件：\n```\n#log_ftp_protocol=YES\nlisten=YES\nlisten_port=3001 # ftp登陆端口\nftp_data_port=3000 # 主动模式数据端口\nport_enable=YES\nport_promiscuous=YES\npasv_enable=YES\npasv_address=  # 此处填被动模式所需的外网IP\npasv_addr_resolve=yes\npasv_promiscuous=YES\ndelete_failed_uploads=YES\n#listen_ipv6=YES\n# Allow anonymous FTP? (Disabled by default)\nanonymous_enable=NO\n# Uncomment this to allow local users to log in.\nlocal_enable=YES\n# Uncomment this to enable any form of FTP write command.\nwrite_enable=YES\n# Default umask for local users is 077. You may wish to change this to 022,\n# if your users expect that (022 is used by most other ftpd's)\nlocal_umask=022\n#file_open_mode=0755\n#pasv_enable=NO\n# Uncomment this to allow the anonymous FTP user to upload files. This only\n# has an effect if the above global write enable is activated. Also, you will\n# obviously need to create a directory writable by the FTP user.\nanon_upload_enable=NO\n# Uncomment this if you want the anonymous FTP user to be able to create\n# new directories.\nanon_mkdir_write_enable=NO\n# Activate directory messages - messages given to remote users when they\n# go into a certain directory.\ndirmessage_enable=YES\n# If enabled, vsftpd will display directory listings with the time\n# in  your  local  time  zone.  The default is to display GMT. The\n# times returned by the MDTM FTP command are also affected by this\n# option.\n#use_localtime=YES\nsyslog_enable=YES\n# Activate logging of uploads/downloads.\nxferlog_enable=YES\n# Make sure PORT transfer connections originate from port 20 (ftp-data).\nconnect_from_port_20=YES\n# If you want, you can arrange for uploaded anonymous files to be owned by\n# a different user. Note! Using \"root\" for uploaded files is not\n# recommended!\n#chown_uploads=YES\n#chown_username=whoever\n# You may override where the log file goes if you like. The default is shown\n# below.\nxferlog_file=/var/log/xferlog.log\n# If you want, you can have your log file in standard ftpd xferlog format.\n# Note that the default log file location is /var/log/xferlog in this case.\nxferlog_std_format=YES\ndual_log_enable=YES\nvsftpd_log_file=/var/log/vsftpd.log\n# You may change the default value for timing out an idle session.\n#idle_session_timeout=600\n# You may change the default value for timing out a data connection.\n#data_connection_timeout=120  # 数据连接超时\n# It is recommended that you define on your system a unique user which the\n# ftp server can use as a totally isolated and unprivileged user.\n#nopriv_user=ftpsecure\n# Enable this and the server will recognise asynchronous ABOR requests. Not\n# recommended for security (the code is non-trivial). Not enabling it,\n# however, may confuse older FTP clients.\n#async_abor_enable=YES\n# By default the server will pretend to allow ASCII mode but in fact ignore\n# the request. Turn on the below options to have the server actually do ASCII\n# mangling on files when in ASCII mode.\n# Beware that on some FTP servers, ASCII support allows a denial of service\n# attack (DoS) via the command \"SIZE /big/file\" in ASCII mode. vsftpd\n# predicted this attack and has always been safe, reporting the size of the\n# raw file.\n# ASCII mangling is a horrible feature of the protocol.\nascii_upload_enable=YES\nascii_download_enable=YES\n# You may fully customise the login banner string:\n#ftpd_banner=Welcome to blah FTP service.\n# You may specify a file of disallowed anonymous e-mail addresses. Apparently\n# useful for combatting certain DoS attacks.\n#deny_email_enable=YES\n# (default follows)\n#banned_email_file=/etc/vsftpd.banned_emails\n# You may restrict local users to their home directories.  See the FAQ for\n# the possible risks in this before using chroot_local_user or\n# chroot_list_enable below.\n#chroot_local_user=YES\n# You may specify an explicit list of local users to chroot() to their home\n# directory. If chroot_local_user is YES, then this list becomes a list of\n# users to NOT chroot().\n# (Warning! chroot'ing can be very dangerous. If using chroot, make sure that\n# the user does not have write access to the top level directory within the\n# chroot)\nchroot_local_user=YES\nallow_writeable_chroot=YES\nchroot_list_enable=YES \n# (default follows)\nchroot_list_file=/etc/vsftpd.chroot_list \n#chroot_list_enable=YES chroot_local_user=YES\n#1.所有用户都被限制在其主目录下 2.使用chroot_list_file指定的用户列表，这些用户作为“例外”，不受限制\n#chroot_list_enable=YES chroot_local_user=NO\n#1.所有用户都不被限制其主目录下 2.使用chroot_list_file指定的用户列表，这些用户作为“例外”，受到限制\n#chroot_list_enable=NO chroot_local_user=YES\n#1.所有用户都被限制在其主目录下 2.不使用chroot_list_file指定的用户列表，没有任何“例外”用户\n#chroot_list_enable=NO chroot_local_user=NO\n#1.所有用户都不被限制其主目录下 2.不使用chroot_list_file指定的用户列表，没有任何“例外”用户\n# You may activate the \"-R\" option to the builtin ls. This is disabled by\n# default to avoid remote users being able to cause excessive I/O on large\n# sites. However, some broken FTP clients such as \"ncftp\" and \"mirror\" assume\n# the presence of the \"-R\" option, so there is a strong case for enabling it.\n#ls_recurse_enable=YES\n# This option should be the name of a directory which is empty.  Also, the\n# directory should not be writable by the ftp user. This directory is used\n# as a secure chroot() jail at times vsftpd does not require filesystem\n# access.\nsecure_chroot_dir=/var/run/vsftpd/empty\n# This string is the name of the PAM service vsftpd will use.\npam_service_name=vsftpd\n# This option specifies the location of the RSA certificate to use for SSL\n# encrypted connections.\n#rsa_cert_file=/etc/ssl/certs/ssl-cert-snakeoil.pem\n# This option specifies the location of the RSA key to use for SSL\n# encrypted connections.\n#local_root=/home/uftp\n#rsa_private_key_file=/etc/ssl/private/ssl-cert-snakeoil.key\nuserlist_deny=NO\nuserlist_enable=YES\nuserlist_file=/etc/allowed_users \n# 当且仅当userlist_enable=YES时：userlist_deny项的配置才有效，user_list文件才会被使用；当其为NO时，无论userlist_deny项为何值都是无效的，本地全体用户（除去ftpusers中的用户）都可以登入FTP\n# 当userlist_enable=YES时，userlist_deny=YES时：user_list是一个黑名单，即：所有出现在名单中的用户都会被拒绝登入；\n# 当userlist_enable=YES时，userlist_deny=NO时：user_list是一个白名单，即：只有出现在名单中的用户才会被准许登入(user_list之外的用户都被拒绝登入)；另外需要特别提醒的是：使用白名单后，匿名用户将无法登入！除非显式在user_list中加入一行：anonymous\nseccomp_sandbox=NO\n# ssl config\nssl_enable=YES\nallow_anon_ssl=NO\nforce_local_data_ssl=NO\nforce_local_logins_ssl=NO\nforce_anon_logins_ssl=NO\nforce_anon_data_ssl=NO\nssl_tlsv1=YES\nssl_sslv2=YES\nssl_sslv3=YES\nrequire_ssl_reuse=NO\ndebug_ssl=YES\nstrict_ssl_read_eof=YES\nstrict_ssl_write_shutdown=YES\nssl_ciphers=HIGH\nrsa_cert_file=/etc/ssl/certs/vsftpd.pem\nrsa_private_key_file=/etc/ssl/certs/vsftpd.pem\npasv_max_port=31000\npasv_min_port=30000\ndata_connection_timeout=8\n```\n/etc/vsftpd.chroot_list 中加入root用户作为例外，可以不被限制在主目录下\n/etc/allow_users 中加入允许登陆的用户\n## 2. 创建用户\n```shell\nuseradd -d /home/temp temp\npasswd temp\nusermod -s /usr/sbin/nologin temp\n```\n添加用户temp，用户根目录/home/temp，设置密码，设置权限为/usr/sbin/nologin,禁止登陆，此处需要注意不同系统nologin的目录不同。\n\n","source":"_posts/vsftpd安装与配置.md","raw":"---\ntitle: vsftpd安装与配置\ndate: 2019-05-22 16:18:06\ncategories: 技术\ntags: [linux,vsftpd]\n---\nvsftpd 是“very secure FTP daemon”的缩写，安全性是它的一个最大的特点。vsftpd 是一个 UNIX 类操作系统上运行的服务器的名字，它可以运行在诸如 Linux、BSD、Solaris、 HP-UNIX等系统上面，是一个完全免费的、开放源代码的ftp服务器软件，支持很多其他的 FTP 服务器所不支持的特征。比如：非常高的安全性需求、带宽限制、良好的可伸缩性、可创建虚拟用户、支持IPv6、速率高等。\n<!-- more --> \n## 1. 安装vsftpd\n对于ubuntu系统可以很容易的通过apt-get来安装vsftpd\n```\nsudo apt-get install vsftpd\n```\n其配置文件在\n```\n/etc/vsftpd.conf\n```\n根据实际环境需要修改配置文件：\n```\n#log_ftp_protocol=YES\nlisten=YES\nlisten_port=3001 # ftp登陆端口\nftp_data_port=3000 # 主动模式数据端口\nport_enable=YES\nport_promiscuous=YES\npasv_enable=YES\npasv_address=  # 此处填被动模式所需的外网IP\npasv_addr_resolve=yes\npasv_promiscuous=YES\ndelete_failed_uploads=YES\n#listen_ipv6=YES\n# Allow anonymous FTP? (Disabled by default)\nanonymous_enable=NO\n# Uncomment this to allow local users to log in.\nlocal_enable=YES\n# Uncomment this to enable any form of FTP write command.\nwrite_enable=YES\n# Default umask for local users is 077. You may wish to change this to 022,\n# if your users expect that (022 is used by most other ftpd's)\nlocal_umask=022\n#file_open_mode=0755\n#pasv_enable=NO\n# Uncomment this to allow the anonymous FTP user to upload files. This only\n# has an effect if the above global write enable is activated. Also, you will\n# obviously need to create a directory writable by the FTP user.\nanon_upload_enable=NO\n# Uncomment this if you want the anonymous FTP user to be able to create\n# new directories.\nanon_mkdir_write_enable=NO\n# Activate directory messages - messages given to remote users when they\n# go into a certain directory.\ndirmessage_enable=YES\n# If enabled, vsftpd will display directory listings with the time\n# in  your  local  time  zone.  The default is to display GMT. The\n# times returned by the MDTM FTP command are also affected by this\n# option.\n#use_localtime=YES\nsyslog_enable=YES\n# Activate logging of uploads/downloads.\nxferlog_enable=YES\n# Make sure PORT transfer connections originate from port 20 (ftp-data).\nconnect_from_port_20=YES\n# If you want, you can arrange for uploaded anonymous files to be owned by\n# a different user. Note! Using \"root\" for uploaded files is not\n# recommended!\n#chown_uploads=YES\n#chown_username=whoever\n# You may override where the log file goes if you like. The default is shown\n# below.\nxferlog_file=/var/log/xferlog.log\n# If you want, you can have your log file in standard ftpd xferlog format.\n# Note that the default log file location is /var/log/xferlog in this case.\nxferlog_std_format=YES\ndual_log_enable=YES\nvsftpd_log_file=/var/log/vsftpd.log\n# You may change the default value for timing out an idle session.\n#idle_session_timeout=600\n# You may change the default value for timing out a data connection.\n#data_connection_timeout=120  # 数据连接超时\n# It is recommended that you define on your system a unique user which the\n# ftp server can use as a totally isolated and unprivileged user.\n#nopriv_user=ftpsecure\n# Enable this and the server will recognise asynchronous ABOR requests. Not\n# recommended for security (the code is non-trivial). Not enabling it,\n# however, may confuse older FTP clients.\n#async_abor_enable=YES\n# By default the server will pretend to allow ASCII mode but in fact ignore\n# the request. Turn on the below options to have the server actually do ASCII\n# mangling on files when in ASCII mode.\n# Beware that on some FTP servers, ASCII support allows a denial of service\n# attack (DoS) via the command \"SIZE /big/file\" in ASCII mode. vsftpd\n# predicted this attack and has always been safe, reporting the size of the\n# raw file.\n# ASCII mangling is a horrible feature of the protocol.\nascii_upload_enable=YES\nascii_download_enable=YES\n# You may fully customise the login banner string:\n#ftpd_banner=Welcome to blah FTP service.\n# You may specify a file of disallowed anonymous e-mail addresses. Apparently\n# useful for combatting certain DoS attacks.\n#deny_email_enable=YES\n# (default follows)\n#banned_email_file=/etc/vsftpd.banned_emails\n# You may restrict local users to their home directories.  See the FAQ for\n# the possible risks in this before using chroot_local_user or\n# chroot_list_enable below.\n#chroot_local_user=YES\n# You may specify an explicit list of local users to chroot() to their home\n# directory. If chroot_local_user is YES, then this list becomes a list of\n# users to NOT chroot().\n# (Warning! chroot'ing can be very dangerous. If using chroot, make sure that\n# the user does not have write access to the top level directory within the\n# chroot)\nchroot_local_user=YES\nallow_writeable_chroot=YES\nchroot_list_enable=YES \n# (default follows)\nchroot_list_file=/etc/vsftpd.chroot_list \n#chroot_list_enable=YES chroot_local_user=YES\n#1.所有用户都被限制在其主目录下 2.使用chroot_list_file指定的用户列表，这些用户作为“例外”，不受限制\n#chroot_list_enable=YES chroot_local_user=NO\n#1.所有用户都不被限制其主目录下 2.使用chroot_list_file指定的用户列表，这些用户作为“例外”，受到限制\n#chroot_list_enable=NO chroot_local_user=YES\n#1.所有用户都被限制在其主目录下 2.不使用chroot_list_file指定的用户列表，没有任何“例外”用户\n#chroot_list_enable=NO chroot_local_user=NO\n#1.所有用户都不被限制其主目录下 2.不使用chroot_list_file指定的用户列表，没有任何“例外”用户\n# You may activate the \"-R\" option to the builtin ls. This is disabled by\n# default to avoid remote users being able to cause excessive I/O on large\n# sites. However, some broken FTP clients such as \"ncftp\" and \"mirror\" assume\n# the presence of the \"-R\" option, so there is a strong case for enabling it.\n#ls_recurse_enable=YES\n# This option should be the name of a directory which is empty.  Also, the\n# directory should not be writable by the ftp user. This directory is used\n# as a secure chroot() jail at times vsftpd does not require filesystem\n# access.\nsecure_chroot_dir=/var/run/vsftpd/empty\n# This string is the name of the PAM service vsftpd will use.\npam_service_name=vsftpd\n# This option specifies the location of the RSA certificate to use for SSL\n# encrypted connections.\n#rsa_cert_file=/etc/ssl/certs/ssl-cert-snakeoil.pem\n# This option specifies the location of the RSA key to use for SSL\n# encrypted connections.\n#local_root=/home/uftp\n#rsa_private_key_file=/etc/ssl/private/ssl-cert-snakeoil.key\nuserlist_deny=NO\nuserlist_enable=YES\nuserlist_file=/etc/allowed_users \n# 当且仅当userlist_enable=YES时：userlist_deny项的配置才有效，user_list文件才会被使用；当其为NO时，无论userlist_deny项为何值都是无效的，本地全体用户（除去ftpusers中的用户）都可以登入FTP\n# 当userlist_enable=YES时，userlist_deny=YES时：user_list是一个黑名单，即：所有出现在名单中的用户都会被拒绝登入；\n# 当userlist_enable=YES时，userlist_deny=NO时：user_list是一个白名单，即：只有出现在名单中的用户才会被准许登入(user_list之外的用户都被拒绝登入)；另外需要特别提醒的是：使用白名单后，匿名用户将无法登入！除非显式在user_list中加入一行：anonymous\nseccomp_sandbox=NO\n# ssl config\nssl_enable=YES\nallow_anon_ssl=NO\nforce_local_data_ssl=NO\nforce_local_logins_ssl=NO\nforce_anon_logins_ssl=NO\nforce_anon_data_ssl=NO\nssl_tlsv1=YES\nssl_sslv2=YES\nssl_sslv3=YES\nrequire_ssl_reuse=NO\ndebug_ssl=YES\nstrict_ssl_read_eof=YES\nstrict_ssl_write_shutdown=YES\nssl_ciphers=HIGH\nrsa_cert_file=/etc/ssl/certs/vsftpd.pem\nrsa_private_key_file=/etc/ssl/certs/vsftpd.pem\npasv_max_port=31000\npasv_min_port=30000\ndata_connection_timeout=8\n```\n/etc/vsftpd.chroot_list 中加入root用户作为例外，可以不被限制在主目录下\n/etc/allow_users 中加入允许登陆的用户\n## 2. 创建用户\n```shell\nuseradd -d /home/temp temp\npasswd temp\nusermod -s /usr/sbin/nologin temp\n```\n添加用户temp，用户根目录/home/temp，设置密码，设置权限为/usr/sbin/nologin,禁止登陆，此处需要注意不同系统nologin的目录不同。\n\n","slug":"vsftpd安装与配置","published":1,"updated":"2019-05-23T12:57:30.324Z","_id":"cjw0ndpom000p4su7jcef0scu","comments":1,"layout":"post","photos":[],"link":"","content":"<p>vsftpd 是“very secure FTP daemon”的缩写，安全性是它的一个最大的特点。vsftpd 是一个 UNIX 类操作系统上运行的服务器的名字，它可以运行在诸如 Linux、BSD、Solaris、 HP-UNIX等系统上面，是一个完全免费的、开放源代码的ftp服务器软件，支持很多其他的 FTP 服务器所不支持的特征。比如：非常高的安全性需求、带宽限制、良好的可伸缩性、可创建虚拟用户、支持IPv6、速率高等。</p>\n<a id=\"more\"></a> \n<h2 id=\"1-安装vsftpd\"><a href=\"#1-安装vsftpd\" class=\"headerlink\" title=\"1. 安装vsftpd\"></a>1. 安装vsftpd</h2><p>对于ubuntu系统可以很容易的通过apt-get来安装vsftpd</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install vsftpd</span><br></pre></td></tr></table></figure>\n\n<p>其配置文件在</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/etc/vsftpd.conf</span><br></pre></td></tr></table></figure>\n\n<p>根据实际环境需要修改配置文件：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#log_ftp_protocol=YES</span><br><span class=\"line\">listen=YES</span><br><span class=\"line\">listen_port=3001 # ftp登陆端口</span><br><span class=\"line\">ftp_data_port=3000 # 主动模式数据端口</span><br><span class=\"line\">port_enable=YES</span><br><span class=\"line\">port_promiscuous=YES</span><br><span class=\"line\">pasv_enable=YES</span><br><span class=\"line\">pasv_address=  # 此处填被动模式所需的外网IP</span><br><span class=\"line\">pasv_addr_resolve=yes</span><br><span class=\"line\">pasv_promiscuous=YES</span><br><span class=\"line\">delete_failed_uploads=YES</span><br><span class=\"line\">#listen_ipv6=YES</span><br><span class=\"line\"># Allow anonymous FTP? (Disabled by default)</span><br><span class=\"line\">anonymous_enable=NO</span><br><span class=\"line\"># Uncomment this to allow local users to log in.</span><br><span class=\"line\">local_enable=YES</span><br><span class=\"line\"># Uncomment this to enable any form of FTP write command.</span><br><span class=\"line\">write_enable=YES</span><br><span class=\"line\"># Default umask for local users is 077. You may wish to change this to 022,</span><br><span class=\"line\"># if your users expect that (022 is used by most other ftpd&apos;s)</span><br><span class=\"line\">local_umask=022</span><br><span class=\"line\">#file_open_mode=0755</span><br><span class=\"line\">#pasv_enable=NO</span><br><span class=\"line\"># Uncomment this to allow the anonymous FTP user to upload files. This only</span><br><span class=\"line\"># has an effect if the above global write enable is activated. Also, you will</span><br><span class=\"line\"># obviously need to create a directory writable by the FTP user.</span><br><span class=\"line\">anon_upload_enable=NO</span><br><span class=\"line\"># Uncomment this if you want the anonymous FTP user to be able to create</span><br><span class=\"line\"># new directories.</span><br><span class=\"line\">anon_mkdir_write_enable=NO</span><br><span class=\"line\"># Activate directory messages - messages given to remote users when they</span><br><span class=\"line\"># go into a certain directory.</span><br><span class=\"line\">dirmessage_enable=YES</span><br><span class=\"line\"># If enabled, vsftpd will display directory listings with the time</span><br><span class=\"line\"># in  your  local  time  zone.  The default is to display GMT. The</span><br><span class=\"line\"># times returned by the MDTM FTP command are also affected by this</span><br><span class=\"line\"># option.</span><br><span class=\"line\">#use_localtime=YES</span><br><span class=\"line\">syslog_enable=YES</span><br><span class=\"line\"># Activate logging of uploads/downloads.</span><br><span class=\"line\">xferlog_enable=YES</span><br><span class=\"line\"># Make sure PORT transfer connections originate from port 20 (ftp-data).</span><br><span class=\"line\">connect_from_port_20=YES</span><br><span class=\"line\"># If you want, you can arrange for uploaded anonymous files to be owned by</span><br><span class=\"line\"># a different user. Note! Using &quot;root&quot; for uploaded files is not</span><br><span class=\"line\"># recommended!</span><br><span class=\"line\">#chown_uploads=YES</span><br><span class=\"line\">#chown_username=whoever</span><br><span class=\"line\"># You may override where the log file goes if you like. The default is shown</span><br><span class=\"line\"># below.</span><br><span class=\"line\">xferlog_file=/var/log/xferlog.log</span><br><span class=\"line\"># If you want, you can have your log file in standard ftpd xferlog format.</span><br><span class=\"line\"># Note that the default log file location is /var/log/xferlog in this case.</span><br><span class=\"line\">xferlog_std_format=YES</span><br><span class=\"line\">dual_log_enable=YES</span><br><span class=\"line\">vsftpd_log_file=/var/log/vsftpd.log</span><br><span class=\"line\"># You may change the default value for timing out an idle session.</span><br><span class=\"line\">#idle_session_timeout=600</span><br><span class=\"line\"># You may change the default value for timing out a data connection.</span><br><span class=\"line\">#data_connection_timeout=120  # 数据连接超时</span><br><span class=\"line\"># It is recommended that you define on your system a unique user which the</span><br><span class=\"line\"># ftp server can use as a totally isolated and unprivileged user.</span><br><span class=\"line\">#nopriv_user=ftpsecure</span><br><span class=\"line\"># Enable this and the server will recognise asynchronous ABOR requests. Not</span><br><span class=\"line\"># recommended for security (the code is non-trivial). Not enabling it,</span><br><span class=\"line\"># however, may confuse older FTP clients.</span><br><span class=\"line\">#async_abor_enable=YES</span><br><span class=\"line\"># By default the server will pretend to allow ASCII mode but in fact ignore</span><br><span class=\"line\"># the request. Turn on the below options to have the server actually do ASCII</span><br><span class=\"line\"># mangling on files when in ASCII mode.</span><br><span class=\"line\"># Beware that on some FTP servers, ASCII support allows a denial of service</span><br><span class=\"line\"># attack (DoS) via the command &quot;SIZE /big/file&quot; in ASCII mode. vsftpd</span><br><span class=\"line\"># predicted this attack and has always been safe, reporting the size of the</span><br><span class=\"line\"># raw file.</span><br><span class=\"line\"># ASCII mangling is a horrible feature of the protocol.</span><br><span class=\"line\">ascii_upload_enable=YES</span><br><span class=\"line\">ascii_download_enable=YES</span><br><span class=\"line\"># You may fully customise the login banner string:</span><br><span class=\"line\">#ftpd_banner=Welcome to blah FTP service.</span><br><span class=\"line\"># You may specify a file of disallowed anonymous e-mail addresses. Apparently</span><br><span class=\"line\"># useful for combatting certain DoS attacks.</span><br><span class=\"line\">#deny_email_enable=YES</span><br><span class=\"line\"># (default follows)</span><br><span class=\"line\">#banned_email_file=/etc/vsftpd.banned_emails</span><br><span class=\"line\"># You may restrict local users to their home directories.  See the FAQ for</span><br><span class=\"line\"># the possible risks in this before using chroot_local_user or</span><br><span class=\"line\"># chroot_list_enable below.</span><br><span class=\"line\">#chroot_local_user=YES</span><br><span class=\"line\"># You may specify an explicit list of local users to chroot() to their home</span><br><span class=\"line\"># directory. If chroot_local_user is YES, then this list becomes a list of</span><br><span class=\"line\"># users to NOT chroot().</span><br><span class=\"line\"># (Warning! chroot&apos;ing can be very dangerous. If using chroot, make sure that</span><br><span class=\"line\"># the user does not have write access to the top level directory within the</span><br><span class=\"line\"># chroot)</span><br><span class=\"line\">chroot_local_user=YES</span><br><span class=\"line\">allow_writeable_chroot=YES</span><br><span class=\"line\">chroot_list_enable=YES </span><br><span class=\"line\"># (default follows)</span><br><span class=\"line\">chroot_list_file=/etc/vsftpd.chroot_list </span><br><span class=\"line\">#chroot_list_enable=YES chroot_local_user=YES</span><br><span class=\"line\">#1.所有用户都被限制在其主目录下 2.使用chroot_list_file指定的用户列表，这些用户作为“例外”，不受限制</span><br><span class=\"line\">#chroot_list_enable=YES chroot_local_user=NO</span><br><span class=\"line\">#1.所有用户都不被限制其主目录下 2.使用chroot_list_file指定的用户列表，这些用户作为“例外”，受到限制</span><br><span class=\"line\">#chroot_list_enable=NO chroot_local_user=YES</span><br><span class=\"line\">#1.所有用户都被限制在其主目录下 2.不使用chroot_list_file指定的用户列表，没有任何“例外”用户</span><br><span class=\"line\">#chroot_list_enable=NO chroot_local_user=NO</span><br><span class=\"line\">#1.所有用户都不被限制其主目录下 2.不使用chroot_list_file指定的用户列表，没有任何“例外”用户</span><br><span class=\"line\"># You may activate the &quot;-R&quot; option to the builtin ls. This is disabled by</span><br><span class=\"line\"># default to avoid remote users being able to cause excessive I/O on large</span><br><span class=\"line\"># sites. However, some broken FTP clients such as &quot;ncftp&quot; and &quot;mirror&quot; assume</span><br><span class=\"line\"># the presence of the &quot;-R&quot; option, so there is a strong case for enabling it.</span><br><span class=\"line\">#ls_recurse_enable=YES</span><br><span class=\"line\"># This option should be the name of a directory which is empty.  Also, the</span><br><span class=\"line\"># directory should not be writable by the ftp user. This directory is used</span><br><span class=\"line\"># as a secure chroot() jail at times vsftpd does not require filesystem</span><br><span class=\"line\"># access.</span><br><span class=\"line\">secure_chroot_dir=/var/run/vsftpd/empty</span><br><span class=\"line\"># This string is the name of the PAM service vsftpd will use.</span><br><span class=\"line\">pam_service_name=vsftpd</span><br><span class=\"line\"># This option specifies the location of the RSA certificate to use for SSL</span><br><span class=\"line\"># encrypted connections.</span><br><span class=\"line\">#rsa_cert_file=/etc/ssl/certs/ssl-cert-snakeoil.pem</span><br><span class=\"line\"># This option specifies the location of the RSA key to use for SSL</span><br><span class=\"line\"># encrypted connections.</span><br><span class=\"line\">#local_root=/home/uftp</span><br><span class=\"line\">#rsa_private_key_file=/etc/ssl/private/ssl-cert-snakeoil.key</span><br><span class=\"line\">userlist_deny=NO</span><br><span class=\"line\">userlist_enable=YES</span><br><span class=\"line\">userlist_file=/etc/allowed_users </span><br><span class=\"line\"># 当且仅当userlist_enable=YES时：userlist_deny项的配置才有效，user_list文件才会被使用；当其为NO时，无论userlist_deny项为何值都是无效的，本地全体用户（除去ftpusers中的用户）都可以登入FTP</span><br><span class=\"line\"># 当userlist_enable=YES时，userlist_deny=YES时：user_list是一个黑名单，即：所有出现在名单中的用户都会被拒绝登入；</span><br><span class=\"line\"># 当userlist_enable=YES时，userlist_deny=NO时：user_list是一个白名单，即：只有出现在名单中的用户才会被准许登入(user_list之外的用户都被拒绝登入)；另外需要特别提醒的是：使用白名单后，匿名用户将无法登入！除非显式在user_list中加入一行：anonymous</span><br><span class=\"line\">seccomp_sandbox=NO</span><br><span class=\"line\"># ssl config</span><br><span class=\"line\">ssl_enable=YES</span><br><span class=\"line\">allow_anon_ssl=NO</span><br><span class=\"line\">force_local_data_ssl=NO</span><br><span class=\"line\">force_local_logins_ssl=NO</span><br><span class=\"line\">force_anon_logins_ssl=NO</span><br><span class=\"line\">force_anon_data_ssl=NO</span><br><span class=\"line\">ssl_tlsv1=YES</span><br><span class=\"line\">ssl_sslv2=YES</span><br><span class=\"line\">ssl_sslv3=YES</span><br><span class=\"line\">require_ssl_reuse=NO</span><br><span class=\"line\">debug_ssl=YES</span><br><span class=\"line\">strict_ssl_read_eof=YES</span><br><span class=\"line\">strict_ssl_write_shutdown=YES</span><br><span class=\"line\">ssl_ciphers=HIGH</span><br><span class=\"line\">rsa_cert_file=/etc/ssl/certs/vsftpd.pem</span><br><span class=\"line\">rsa_private_key_file=/etc/ssl/certs/vsftpd.pem</span><br><span class=\"line\">pasv_max_port=31000</span><br><span class=\"line\">pasv_min_port=30000</span><br><span class=\"line\">data_connection_timeout=8</span><br></pre></td></tr></table></figure>\n\n<p>/etc/vsftpd.chroot_list 中加入root用户作为例外，可以不被限制在主目录下<br>/etc/allow_users 中加入允许登陆的用户</p>\n<h2 id=\"2-创建用户\"><a href=\"#2-创建用户\" class=\"headerlink\" title=\"2. 创建用户\"></a>2. 创建用户</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">useradd -d /home/temp temp</span><br><span class=\"line\">passwd temp</span><br><span class=\"line\">usermod -s /usr/sbin/nologin temp</span><br></pre></td></tr></table></figure>\n\n<p>添加用户temp，用户根目录/home/temp，设置密码，设置权限为/usr/sbin/nologin,禁止登陆，此处需要注意不同系统nologin的目录不同。</p>\n","site":{"data":{}},"excerpt":"<p>vsftpd 是“very secure FTP daemon”的缩写，安全性是它的一个最大的特点。vsftpd 是一个 UNIX 类操作系统上运行的服务器的名字，它可以运行在诸如 Linux、BSD、Solaris、 HP-UNIX等系统上面，是一个完全免费的、开放源代码的ftp服务器软件，支持很多其他的 FTP 服务器所不支持的特征。比如：非常高的安全性需求、带宽限制、良好的可伸缩性、可创建虚拟用户、支持IPv6、速率高等。</p>","more":"<h2 id=\"1-安装vsftpd\"><a href=\"#1-安装vsftpd\" class=\"headerlink\" title=\"1. 安装vsftpd\"></a>1. 安装vsftpd</h2><p>对于ubuntu系统可以很容易的通过apt-get来安装vsftpd</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install vsftpd</span><br></pre></td></tr></table></figure>\n\n<p>其配置文件在</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/etc/vsftpd.conf</span><br></pre></td></tr></table></figure>\n\n<p>根据实际环境需要修改配置文件：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#log_ftp_protocol=YES</span><br><span class=\"line\">listen=YES</span><br><span class=\"line\">listen_port=3001 # ftp登陆端口</span><br><span class=\"line\">ftp_data_port=3000 # 主动模式数据端口</span><br><span class=\"line\">port_enable=YES</span><br><span class=\"line\">port_promiscuous=YES</span><br><span class=\"line\">pasv_enable=YES</span><br><span class=\"line\">pasv_address=  # 此处填被动模式所需的外网IP</span><br><span class=\"line\">pasv_addr_resolve=yes</span><br><span class=\"line\">pasv_promiscuous=YES</span><br><span class=\"line\">delete_failed_uploads=YES</span><br><span class=\"line\">#listen_ipv6=YES</span><br><span class=\"line\"># Allow anonymous FTP? (Disabled by default)</span><br><span class=\"line\">anonymous_enable=NO</span><br><span class=\"line\"># Uncomment this to allow local users to log in.</span><br><span class=\"line\">local_enable=YES</span><br><span class=\"line\"># Uncomment this to enable any form of FTP write command.</span><br><span class=\"line\">write_enable=YES</span><br><span class=\"line\"># Default umask for local users is 077. You may wish to change this to 022,</span><br><span class=\"line\"># if your users expect that (022 is used by most other ftpd&apos;s)</span><br><span class=\"line\">local_umask=022</span><br><span class=\"line\">#file_open_mode=0755</span><br><span class=\"line\">#pasv_enable=NO</span><br><span class=\"line\"># Uncomment this to allow the anonymous FTP user to upload files. This only</span><br><span class=\"line\"># has an effect if the above global write enable is activated. Also, you will</span><br><span class=\"line\"># obviously need to create a directory writable by the FTP user.</span><br><span class=\"line\">anon_upload_enable=NO</span><br><span class=\"line\"># Uncomment this if you want the anonymous FTP user to be able to create</span><br><span class=\"line\"># new directories.</span><br><span class=\"line\">anon_mkdir_write_enable=NO</span><br><span class=\"line\"># Activate directory messages - messages given to remote users when they</span><br><span class=\"line\"># go into a certain directory.</span><br><span class=\"line\">dirmessage_enable=YES</span><br><span class=\"line\"># If enabled, vsftpd will display directory listings with the time</span><br><span class=\"line\"># in  your  local  time  zone.  The default is to display GMT. The</span><br><span class=\"line\"># times returned by the MDTM FTP command are also affected by this</span><br><span class=\"line\"># option.</span><br><span class=\"line\">#use_localtime=YES</span><br><span class=\"line\">syslog_enable=YES</span><br><span class=\"line\"># Activate logging of uploads/downloads.</span><br><span class=\"line\">xferlog_enable=YES</span><br><span class=\"line\"># Make sure PORT transfer connections originate from port 20 (ftp-data).</span><br><span class=\"line\">connect_from_port_20=YES</span><br><span class=\"line\"># If you want, you can arrange for uploaded anonymous files to be owned by</span><br><span class=\"line\"># a different user. Note! Using &quot;root&quot; for uploaded files is not</span><br><span class=\"line\"># recommended!</span><br><span class=\"line\">#chown_uploads=YES</span><br><span class=\"line\">#chown_username=whoever</span><br><span class=\"line\"># You may override where the log file goes if you like. The default is shown</span><br><span class=\"line\"># below.</span><br><span class=\"line\">xferlog_file=/var/log/xferlog.log</span><br><span class=\"line\"># If you want, you can have your log file in standard ftpd xferlog format.</span><br><span class=\"line\"># Note that the default log file location is /var/log/xferlog in this case.</span><br><span class=\"line\">xferlog_std_format=YES</span><br><span class=\"line\">dual_log_enable=YES</span><br><span class=\"line\">vsftpd_log_file=/var/log/vsftpd.log</span><br><span class=\"line\"># You may change the default value for timing out an idle session.</span><br><span class=\"line\">#idle_session_timeout=600</span><br><span class=\"line\"># You may change the default value for timing out a data connection.</span><br><span class=\"line\">#data_connection_timeout=120  # 数据连接超时</span><br><span class=\"line\"># It is recommended that you define on your system a unique user which the</span><br><span class=\"line\"># ftp server can use as a totally isolated and unprivileged user.</span><br><span class=\"line\">#nopriv_user=ftpsecure</span><br><span class=\"line\"># Enable this and the server will recognise asynchronous ABOR requests. Not</span><br><span class=\"line\"># recommended for security (the code is non-trivial). Not enabling it,</span><br><span class=\"line\"># however, may confuse older FTP clients.</span><br><span class=\"line\">#async_abor_enable=YES</span><br><span class=\"line\"># By default the server will pretend to allow ASCII mode but in fact ignore</span><br><span class=\"line\"># the request. Turn on the below options to have the server actually do ASCII</span><br><span class=\"line\"># mangling on files when in ASCII mode.</span><br><span class=\"line\"># Beware that on some FTP servers, ASCII support allows a denial of service</span><br><span class=\"line\"># attack (DoS) via the command &quot;SIZE /big/file&quot; in ASCII mode. vsftpd</span><br><span class=\"line\"># predicted this attack and has always been safe, reporting the size of the</span><br><span class=\"line\"># raw file.</span><br><span class=\"line\"># ASCII mangling is a horrible feature of the protocol.</span><br><span class=\"line\">ascii_upload_enable=YES</span><br><span class=\"line\">ascii_download_enable=YES</span><br><span class=\"line\"># You may fully customise the login banner string:</span><br><span class=\"line\">#ftpd_banner=Welcome to blah FTP service.</span><br><span class=\"line\"># You may specify a file of disallowed anonymous e-mail addresses. Apparently</span><br><span class=\"line\"># useful for combatting certain DoS attacks.</span><br><span class=\"line\">#deny_email_enable=YES</span><br><span class=\"line\"># (default follows)</span><br><span class=\"line\">#banned_email_file=/etc/vsftpd.banned_emails</span><br><span class=\"line\"># You may restrict local users to their home directories.  See the FAQ for</span><br><span class=\"line\"># the possible risks in this before using chroot_local_user or</span><br><span class=\"line\"># chroot_list_enable below.</span><br><span class=\"line\">#chroot_local_user=YES</span><br><span class=\"line\"># You may specify an explicit list of local users to chroot() to their home</span><br><span class=\"line\"># directory. If chroot_local_user is YES, then this list becomes a list of</span><br><span class=\"line\"># users to NOT chroot().</span><br><span class=\"line\"># (Warning! chroot&apos;ing can be very dangerous. If using chroot, make sure that</span><br><span class=\"line\"># the user does not have write access to the top level directory within the</span><br><span class=\"line\"># chroot)</span><br><span class=\"line\">chroot_local_user=YES</span><br><span class=\"line\">allow_writeable_chroot=YES</span><br><span class=\"line\">chroot_list_enable=YES </span><br><span class=\"line\"># (default follows)</span><br><span class=\"line\">chroot_list_file=/etc/vsftpd.chroot_list </span><br><span class=\"line\">#chroot_list_enable=YES chroot_local_user=YES</span><br><span class=\"line\">#1.所有用户都被限制在其主目录下 2.使用chroot_list_file指定的用户列表，这些用户作为“例外”，不受限制</span><br><span class=\"line\">#chroot_list_enable=YES chroot_local_user=NO</span><br><span class=\"line\">#1.所有用户都不被限制其主目录下 2.使用chroot_list_file指定的用户列表，这些用户作为“例外”，受到限制</span><br><span class=\"line\">#chroot_list_enable=NO chroot_local_user=YES</span><br><span class=\"line\">#1.所有用户都被限制在其主目录下 2.不使用chroot_list_file指定的用户列表，没有任何“例外”用户</span><br><span class=\"line\">#chroot_list_enable=NO chroot_local_user=NO</span><br><span class=\"line\">#1.所有用户都不被限制其主目录下 2.不使用chroot_list_file指定的用户列表，没有任何“例外”用户</span><br><span class=\"line\"># You may activate the &quot;-R&quot; option to the builtin ls. This is disabled by</span><br><span class=\"line\"># default to avoid remote users being able to cause excessive I/O on large</span><br><span class=\"line\"># sites. However, some broken FTP clients such as &quot;ncftp&quot; and &quot;mirror&quot; assume</span><br><span class=\"line\"># the presence of the &quot;-R&quot; option, so there is a strong case for enabling it.</span><br><span class=\"line\">#ls_recurse_enable=YES</span><br><span class=\"line\"># This option should be the name of a directory which is empty.  Also, the</span><br><span class=\"line\"># directory should not be writable by the ftp user. This directory is used</span><br><span class=\"line\"># as a secure chroot() jail at times vsftpd does not require filesystem</span><br><span class=\"line\"># access.</span><br><span class=\"line\">secure_chroot_dir=/var/run/vsftpd/empty</span><br><span class=\"line\"># This string is the name of the PAM service vsftpd will use.</span><br><span class=\"line\">pam_service_name=vsftpd</span><br><span class=\"line\"># This option specifies the location of the RSA certificate to use for SSL</span><br><span class=\"line\"># encrypted connections.</span><br><span class=\"line\">#rsa_cert_file=/etc/ssl/certs/ssl-cert-snakeoil.pem</span><br><span class=\"line\"># This option specifies the location of the RSA key to use for SSL</span><br><span class=\"line\"># encrypted connections.</span><br><span class=\"line\">#local_root=/home/uftp</span><br><span class=\"line\">#rsa_private_key_file=/etc/ssl/private/ssl-cert-snakeoil.key</span><br><span class=\"line\">userlist_deny=NO</span><br><span class=\"line\">userlist_enable=YES</span><br><span class=\"line\">userlist_file=/etc/allowed_users </span><br><span class=\"line\"># 当且仅当userlist_enable=YES时：userlist_deny项的配置才有效，user_list文件才会被使用；当其为NO时，无论userlist_deny项为何值都是无效的，本地全体用户（除去ftpusers中的用户）都可以登入FTP</span><br><span class=\"line\"># 当userlist_enable=YES时，userlist_deny=YES时：user_list是一个黑名单，即：所有出现在名单中的用户都会被拒绝登入；</span><br><span class=\"line\"># 当userlist_enable=YES时，userlist_deny=NO时：user_list是一个白名单，即：只有出现在名单中的用户才会被准许登入(user_list之外的用户都被拒绝登入)；另外需要特别提醒的是：使用白名单后，匿名用户将无法登入！除非显式在user_list中加入一行：anonymous</span><br><span class=\"line\">seccomp_sandbox=NO</span><br><span class=\"line\"># ssl config</span><br><span class=\"line\">ssl_enable=YES</span><br><span class=\"line\">allow_anon_ssl=NO</span><br><span class=\"line\">force_local_data_ssl=NO</span><br><span class=\"line\">force_local_logins_ssl=NO</span><br><span class=\"line\">force_anon_logins_ssl=NO</span><br><span class=\"line\">force_anon_data_ssl=NO</span><br><span class=\"line\">ssl_tlsv1=YES</span><br><span class=\"line\">ssl_sslv2=YES</span><br><span class=\"line\">ssl_sslv3=YES</span><br><span class=\"line\">require_ssl_reuse=NO</span><br><span class=\"line\">debug_ssl=YES</span><br><span class=\"line\">strict_ssl_read_eof=YES</span><br><span class=\"line\">strict_ssl_write_shutdown=YES</span><br><span class=\"line\">ssl_ciphers=HIGH</span><br><span class=\"line\">rsa_cert_file=/etc/ssl/certs/vsftpd.pem</span><br><span class=\"line\">rsa_private_key_file=/etc/ssl/certs/vsftpd.pem</span><br><span class=\"line\">pasv_max_port=31000</span><br><span class=\"line\">pasv_min_port=30000</span><br><span class=\"line\">data_connection_timeout=8</span><br></pre></td></tr></table></figure>\n\n<p>/etc/vsftpd.chroot_list 中加入root用户作为例外，可以不被限制在主目录下<br>/etc/allow_users 中加入允许登陆的用户</p>\n<h2 id=\"2-创建用户\"><a href=\"#2-创建用户\" class=\"headerlink\" title=\"2. 创建用户\"></a>2. 创建用户</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">useradd -d /home/temp temp</span><br><span class=\"line\">passwd temp</span><br><span class=\"line\">usermod -s /usr/sbin/nologin temp</span><br></pre></td></tr></table></figure>\n\n<p>添加用户temp，用户根目录/home/temp，设置密码，设置权限为/usr/sbin/nologin,禁止登陆，此处需要注意不同系统nologin的目录不同。</p>"}],"PostAsset":[{"_id":"source/_posts/北洋三部曲/01.jpg","slug":"01.jpg","post":"cjw0ndpo9000k4su7knv08lwx","modified":0,"renderable":0},{"_id":"source/_posts/北洋三部曲/02.jpg","slug":"02.jpg","post":"cjw0ndpo9000k4su7knv08lwx","modified":0,"renderable":0},{"_id":"source/_posts/北洋三部曲/03.jpg","slug":"03.jpg","post":"cjw0ndpo9000k4su7knv08lwx","modified":0,"renderable":0},{"_id":"source/_posts/北洋三部曲/04.jpg","slug":"04.jpg","post":"cjw0ndpo9000k4su7knv08lwx","modified":0,"renderable":0},{"_id":"source/_posts/北洋三部曲/05.jpg","slug":"05.jpg","post":"cjw0ndpo9000k4su7knv08lwx","modified":0,"renderable":0},{"_id":"source/_posts/北洋三部曲/06.jpg","slug":"06.jpg","post":"cjw0ndpo9000k4su7knv08lwx","modified":0,"renderable":0},{"_id":"source/_posts/北洋三部曲/07.jpg","slug":"07.jpg","post":"cjw0ndpo9000k4su7knv08lwx","modified":0,"renderable":0},{"_id":"source/_posts/北洋三部曲/08.jpg","slug":"08.jpg","post":"cjw0ndpo9000k4su7knv08lwx","modified":0,"renderable":0},{"_id":"source/_posts/北洋三部曲/09.jpg","slug":"09.jpg","post":"cjw0ndpo9000k4su7knv08lwx","modified":0,"renderable":0},{"_id":"source/_posts/北洋三部曲/10.jpg","slug":"10.jpg","post":"cjw0ndpo9000k4su7knv08lwx","modified":0,"renderable":0},{"_id":"source/_posts/北洋三部曲/11.jpg","slug":"11.jpg","post":"cjw0ndpo9000k4su7knv08lwx","modified":0,"renderable":0},{"_id":"source/_posts/北洋三部曲/12.jpg","slug":"12.jpg","post":"cjw0ndpo9000k4su7knv08lwx","modified":0,"renderable":0},{"_id":"source/_posts/北洋三部曲/13.jpg","slug":"13.jpg","post":"cjw0ndpo9000k4su7knv08lwx","modified":0,"renderable":0},{"_id":"source/_posts/北洋三部曲/14.jpg","slug":"14.jpg","post":"cjw0ndpo9000k4su7knv08lwx","modified":0,"renderable":0},{"_id":"source/_posts/北洋三部曲/15.jpg","slug":"15.jpg","post":"cjw0ndpo9000k4su7knv08lwx","modified":0,"renderable":0},{"_id":"source/_posts/北洋三部曲/16.jpg","slug":"16.jpg","post":"cjw0ndpo9000k4su7knv08lwx","modified":0,"renderable":0}],"PostCategory":[{"post_id":"cjw0ndpnl00004su7617eo791","category_id":"cjw0ndpnt00034su7g72jev37","_id":"cjw0ndpnz00094su7kxnjriga"},{"post_id":"cjw0ndpnr00024su7flpkld3x","category_id":"cjw0ndpnt00034su7g72jev37","_id":"cjw0ndpo0000c4su76r2d2k99"},{"post_id":"cjw0ndpnv00054su7b26juovn","category_id":"cjw0ndpnz00084su73zvrimm9","_id":"cjw0ndpo1000f4su73pyel0st"},{"post_id":"cjw0ndpo9000k4su7knv08lwx","category_id":"cjw0ndpoa000l4su7let6lx2a","_id":"cjw0ndpob000o4su78woznk25"},{"post_id":"cjw0ndpom000p4su7jcef0scu","category_id":"cjw0ndpnt00034su7g72jev37","_id":"cjw0ndpoo000s4su73p0mbf9t"}],"PostTag":[{"post_id":"cjw0ndpnl00004su7617eo791","tag_id":"cjw0ndpnv00044su7776ux60u","_id":"cjw0ndpo0000b4su7w4yoeidm"},{"post_id":"cjw0ndpnl00004su7617eo791","tag_id":"cjw0ndpnx00074su76dkpzuko","_id":"cjw0ndpo0000d4su7b8nmnsj8"},{"post_id":"cjw0ndpnr00024su7flpkld3x","tag_id":"cjw0ndpnv00044su7776ux60u","_id":"cjw0ndpo1000h4su7c7yhrflc"},{"post_id":"cjw0ndpnr00024su7flpkld3x","tag_id":"cjw0ndpnx00074su76dkpzuko","_id":"cjw0ndpo2000i4su7l3kc7494"},{"post_id":"cjw0ndpnv00054su7b26juovn","tag_id":"cjw0ndpo1000g4su7fg8oig71","_id":"cjw0ndpo2000j4su7gv2x4hdc"},{"post_id":"cjw0ndpo9000k4su7knv08lwx","tag_id":"cjw0ndpoa000m4su7fa6e3yvs","_id":"cjw0ndpob000n4su7setq820u"},{"post_id":"cjw0ndpom000p4su7jcef0scu","tag_id":"cjw0ndpnv00044su7776ux60u","_id":"cjw0ndpop000t4su7iy4ciwuo"},{"post_id":"cjw0ndpom000p4su7jcef0scu","tag_id":"cjw0ndpoo000r4su76m7k592k","_id":"cjw0ndpop000u4su7agkh8log"}],"Tag":[{"name":"linux","_id":"cjw0ndpnv00044su7776ux60u"},{"name":"tomcat","_id":"cjw0ndpnx00074su76dkpzuko"},{"name":"hexo","_id":"cjw0ndpo1000g4su7fg8oig71"},{"name":"姜文","_id":"cjw0ndpoa000m4su7fa6e3yvs"},{"name":"vsftpd","_id":"cjw0ndpoo000r4su76m7k592k"}]}}